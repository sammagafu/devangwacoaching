import{d as X,y as Y,q as W,E as Q,J as D,a$ as Z,A as G,c as N,w as l,o as n,a as e,b as a,$ as ee,H as se,i as d,x as B,t,f as h,bI as te,aW as ae,m as E,F as f,au as oe,X as le,bt as ne,bJ as ce,bg as ie,L as re,g as p,C as de,b4 as _e,G as me,av as ue,bK as he}from"./index-N9CDaHOP.js";/* empty css                    */import{_ as pe}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CRgGAbI0.js";import{b as P}from"./constants-DJzGRNcz.js";import"./DropDown.vue_vue_type_script_setup_true_lang-CvqxUwdC.js";import"./ProfileDropdown.vue_vue_type_script_setup_true_lang-MiOOsD2a.js";import"./change-casing-BoyW-fpY.js";import"./01-DeMBLNXD.js";import"./MobileNavbarToggler-Bj1WYEMd.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./MenuItemWithChildren.vue_vue_type_script_setup_true_lang-9IhJN-Gy.js";import"./menu-items-1Og9OzUr.js";import"./index-DdoyQ2gK.js";import"./index-DwNiKAmd.js";import"./logo-light-sT18Thxh.js";import"./08-DzHvQlEd.js";import"./02-u1oGLGhS.js";import"./05-BauEG9gJ.js";import"./03-6nKUgUxe.js";const ve={class:"pt-0"},fe={class:"bg-light rounded-3 p-3 mb-4"},be=e("h6",{class:"small"},"Organized by:",-1),ge={class:"d-flex align-items-center"},ye={class:"avatar align-middle"},ke={class:"avatar-img rounded-1 bg-danger"},we={class:"text-white position-absolute top-50 start-50 translate-middle fw-bold"},xe={class:"ms-2"},Ae={class:"mb-0"},Ce=e("h6",{class:"small"},"Location:",-1),Ne={class:"d-flex align-items-center"},Be={class:"avatar align-middle flex-shrink-0"},Ee={class:"avatar-img rounded-2 bg-dark"},Te={class:"position-absolute top-50 start-50 translate-middle text-white flex-centered"},De={class:"fw-normal mb-0 ms-2"},Se=e("h6",{class:"small"},"Date & Time:",-1),$e={class:"d-flex align-items-center"},Fe={class:"avatar align-middle flex-shrink-0"},Ie={class:"avatar-img rounded-2 bg-dark"},Le={class:"position-absolute top-50 start-50 translate-middle text-white flex-centered"},Ue={class:"ms-2"},Ge={class:"fw-normal mb-0"},Pe=e("h4",null,"About this event",-1),je=e("h4",{class:"mt-4 mb-0"},"Speakers",-1),Oe={key:0},Re={key:1},Ve={class:"d-xl-flex justify-content-between align-items-center"},qe={class:"hstack gap-2 mb-2 mb-xl-0"},ze={class:"avatar flex-shrink-0"},Ke=["src"],He={href:"#"},Je={key:3,class:"mt-5"},Me=e("h4",{class:"mb-0"},"Event Schedule",-1),Xe={class:"fw-normal ms-0 ms-sm-2"},Ye={key:0,class:"my-0"},We={key:1,class:"d-flex align-items-center p-3"},Qe={class:"avatar avatar-sm flex-shrink-0"},Ze=["src"],es={class:"ms-2"},ss={class:"mb-0 fw-normal"},ts={href:"#"},as={class:"small mb-0"},os={href:"#",class:"fw-bold text-body text-primary-hover"},ls={key:2,class:"text-center p-3"},ns={class:"mb-0 fw-normal"},cs={class:"d-flex"},is={class:"ms-3"},rs={class:"mb-0"},ds=e("p",{class:"mb-0"},"Visitors",-1),_s={class:"d-flex"},ms={class:"ms-3"},us={class:"mb-0"},hs=e("p",{class:"mb-0"},"Registered",-1),ps={class:"d-flex"},vs={class:"ms-3"},fs={class:"mb-0"},bs=e("p",{class:"mb-0"},"Attendance",-1),gs=["href"],ys={class:"mt-4"},ks={class:"list-unstyled mb-4"},ws={class:"d-flex justify-content-between mb-3"},xs=e("span",{class:"w-150px"},"Ticket Price:",-1),As={class:"text-end mb-0"},Cs={class:"d-flex justify-content-between mb-3"},Ns=e("span",{class:"w-150px"},"Entry Fees:",-1),Bs={class:"text-end mb-0"},Es={class:"d-flex justify-content-between mb-3"},Ts=e("span",{class:"w-150px"},"Address:",-1),Ds={class:"text-end mb-0"},Ss=["src"],j="https://via.placeholder.com/40",Qs=X({__name:"EventDetails",setup($s){const v=Y.useToast(),O=Z();_e();const s=W(null);Q(async()=>{try{const c=await D.get(`/coaching/events/${O.params.slug}/`);s.value=c.data,v.success("Event details loaded successfully!")}catch(c){console.error("Failed to fetch event:",c),v.error("Failed to fetch event details")}});const R=G(()=>{var m,i,u,A;return(((i=(m=s.value)==null?void 0:m.created_by)==null?void 0:i.full_name)||((A=(u=s.value)==null?void 0:u.created_by)==null?void 0:A.email)||"").split(" ").map(C=>C[0]).join("").slice(0,2).toUpperCase()}),V=G(()=>{var m;return`https://www.google.com/maps/embed/v1/place?q=${encodeURIComponent(((m=s.value)==null?void 0:m.location)||"Chicago, IL")}&key=YOUR_GOOGLE_MAPS_API_KEY`}),S=c=>c?new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",q=(c,m)=>{if(!c||!m)return"N/A";const i=new Date(c).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}),u=new Date(m).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"});return`${i} to ${u}`},z=async()=>{if(!s.value){v.error("Event not loaded");return}try{await D.post(`/coaching/events/${s.value.slug}/attend/`),v.success("Successfully joined the event!");const c={event:s.value.id,amount:parseFloat(s.value.final_price)+1};await D.post("/coaching/payments/",c),v.success("Payment recorded successfully!")}catch(c){console.error("Error processing ticket purchase:",c),v.error("Failed to process ticket purchase")}};return(c,m)=>{const i=se,u=ee,A=me,C=re,T=le,K=ue,H=oe,J=de;return n(),N(pe,null,{default:l(()=>[e("section",ve,[a(J,null,{default:l(()=>[a(u,{class:"g-4 g-lg-5"},{default:l(()=>[a(i,{lg:"8",class:"order-2"},{default:l(()=>{var b,g,y,$,F,I,L;return[e("div",fe,[a(u,{class:"g-4"},{default:l(()=>[a(i,{md:"4"},{default:l(()=>{var o,_,r,k,w,x;return[be,e("div",ge,[e("div",ye,[e("div",ke,[e("span",we,t(R.value),1)])]),e("div",xe,[e("h6",Ae,t(((_=(o=s.value)==null?void 0:o.created_by)==null?void 0:_.full_name)||((k=(r=s.value)==null?void 0:r.created_by)==null?void 0:k.email)),1),e("small",null,t(((x=(w=s.value)==null?void 0:w.created_by)==null?void 0:x.followers)||"N/A")+" followers",1)])])]}),_:1}),a(i,{md:"4"},{default:l(()=>{var o;return[Ce,e("div",Ne,[e("div",Be,[e("div",Ee,[e("span",Te,[a(h(te))])])]),e("h6",De,t(((o=s.value)==null?void 0:o.location)||"Online"),1)])]}),_:1}),a(i,{md:"4"},{default:l(()=>{var o,_,r;return[Se,e("div",$e,[e("div",Fe,[e("div",Ie,[e("span",Le,[a(h(ae))])])]),e("div",Ue,[e("h6",Ge,t(S((o=s.value)==null?void 0:o.start_time)),1),e("small",null,t(q((_=s.value)==null?void 0:_.start_time,(r=s.value)==null?void 0:r.end_time)),1)])])]}),_:1})]),_:1})]),Pe,e("p",null,t(((b=s.value)==null?void 0:b.description)||"No description available."),1),je,(y=(g=s.value)==null?void 0:g.speakers)!=null&&y.length?(n(),d("p",Oe,t(s.value.speakers.length)+" key speakers for the event.",1)):(n(),d("p",Re,"No speakers listed for this event.")),(F=($=s.value)==null?void 0:$.speakers)!=null&&F.length?(n(),N(u,{key:2,class:"g-4"},{default:l(()=>[(n(!0),d(f,null,E(s.value.speakers,(o,_)=>(n(),N(i,{sm:"6",key:_},{default:l(()=>[a(T,{"no-body":"",class:"card-body border"},{default:l(()=>[e("div",Ve,[e("div",qe,[e("div",ze,[e("img",{class:"avatar-img rounded-circle",src:o.avatar||j,alt:"avatar"},null,8,Ke)]),e("div",null,[a(A,{tag:"h6",class:"mb-0"},{default:l(()=>[e("a",He,t(o.name),1)]),_:2},1024),e("small",null,t(o.followers)+" followers",1)])]),a(C,{size:"sm",variant:"dark",class:"mb-0"},{default:l(()=>[p("Know more")]),_:1})])]),_:2},1024)]),_:2},1024))),128))]),_:1})):B("",!0),(L=(I=s.value)==null?void 0:I.schedules)!=null&&L.length?(n(),d("div",Je,[Me,e("p",null,t(s.value.schedules.length)+" scheduled sessions for the event.",1),a(H,{class:"accordion-icon accordion-active-dark"},{default:l(()=>[(n(!0),d(f,null,E(s.value.schedules,(o,_)=>(n(),N(K,{key:_,"button-class":"fw-bold rounded pe-5","header-class":"font-base","header-tag":"h6","body-class":"p-0",class:"mb-3",visible:!_},{title:l(()=>[p(" Day-"+t(_+1)+" ",1),e("span",Xe,"("+t(S(o.day))+")",1)]),default:l(()=>[(n(!0),d(f,null,E(o.events,(r,k)=>{var w,x;return n(),d(f,{key:k},[k?(n(),d("hr",Ye)):B("",!0),(w=r.speakers)!=null&&w.length?(n(),d("div",We,[e("div",Qe,[e("img",{class:"avatar-img rounded-circle",src:((x=r.speakers[0])==null?void 0:x.avatar)||j,alt:"avatar"},null,8,Ze)]),e("div",es,[e("h6",ss,[e("a",ts,[p(t(r.title),1),e("span",null," ("+t(r.time)+")",1)])]),e("p",as,[p(" by "),(n(!0),d(f,null,E(r.speakers,(M,U)=>(n(),d(f,{key:U},[p(t(U?" and":"")+" ",1),e("a",os,t(M.name),1)],64))),128))])])])):(n(),d("div",ls,[e("h6",ns,[a(h(he)),p(" "+t(r.title)+" ",1),e("span",null,"("+t(r.time)+")",1)])]))],64)}),128))]),_:2},1032,["visible"]))),128))]),_:1})])):B("",!0),a(T,{"no-body":"",class:"card-body bg-light p-4 mt-5"},{default:l(()=>[a(u,{class:"g-2"},{default:l(()=>[a(i,{sm:"4"},{default:l(()=>{var o;return[e("div",cs,[a(h(ne),{class:"fs-4"}),e("div",is,[e("h5",rs,t(((o=s.value)==null?void 0:o.visitors)||"N/A"),1),ds])])]}),_:1}),a(i,{sm:"4"},{default:l(()=>{var o;return[e("div",_s,[a(h(ce),{class:"fs-4"}),e("div",ms,[e("h5",us,t(((o=s.value)==null?void 0:o.registered)||"N/A"),1),hs])])]}),_:1}),a(i,{sm:"4"},{default:l(()=>{var o;return[e("div",ps,[a(h(ie),{class:"fs-4"}),e("div",vs,[e("h5",fs,t(((o=s.value)==null?void 0:o.attendance)||"N/A"),1),bs])])]}),_:1})]),_:1})]),_:1})]}),_:1}),a(i,{lg:"4",class:"order-1 order-lg-2"},{default:l(()=>[a(T,{"no-body":"",class:"card-body shadow"},{default:l(()=>{var b,g,y;return[a(C,{class:"btn btn-primary w-100 mb-2",onClick:z},{default:l(()=>[p("Buy Ticket")]),_:1}),(b=s.value)!=null&&b.google_calendar_url?(n(),d("a",{key:0,href:s.value.google_calendar_url,target:"_blank",class:"btn btn-secondary w-100"}," Add to Google Calendar ",8,gs)):B("",!0),e("div",ys,[e("ul",ks,[e("li",ws,[xs,e("h6",As,t(h(P))+t((g=s.value)==null?void 0:g.final_price),1)]),e("li",Cs,[Ns,e("h6",Bs,t(h(P))+"1 per ticket",1)]),e("li",Es,[Ts,e("h6",Ds,t(((y=s.value)==null?void 0:y.location)||"Online"),1)])]),e("iframe",{class:"w-100 d-block rounded-bottom",height:"230",src:V.value,style:{border:"0"},"aria-hidden":"false",tabindex:"0"},null,8,Ss)])]}),_:1})]),_:1})]),_:1})]),_:1})])]),_:1})}}});export{Qs as default};
