import{d as B,y as N,b4 as E,q as v,r as x,c as g,o as r,X as S,w as s,b as o,a,i as y,g as f,t as l,f as b,L as I,W as T,E as L,V as W,x as j,$ as A,m as H,F as U,H as X,J as q}from"./index-N9CDaHOP.js";import{_ as D}from"./StudentLayout.vue_vue_type_script_setup_true_lang-nICzxTwo.js";import{u as G}from"./cart-CCGk6RnO.js";import{d as J,p as M}from"./index-DdoyQ2gK.js";import{a as R}from"./01-DeMBLNXD.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./menu-items-1Og9OzUr.js";import"./index-DwNiKAmd.js";import"./TopBar8.vue_vue_type_script_setup_true_lang-CjTKH_W-.js";import"./StickyHeader.vue_vue_type_script_setup_true_lang-CZa3rg2A.js";import"./ProfileDropdown.vue_vue_type_script_setup_true_lang-MiOOsD2a.js";import"./DropDown.vue_vue_type_script_setup_true_lang-CvqxUwdC.js";import"./change-casing-BoyW-fpY.js";import"./ShopCart.vue_vue_type_script_setup_true_lang-CqdS6fSh.js";import"./ChoicesSelect.vue_vue_type_script_setup_true_lang-DiCDSqEv.js";import"./02-CA1hCPq5.js";import"./04-D66rD-0h.js";import"./AdvanceMenu.vue_vue_type_script_setup_true_lang-CDVthnuR.js";import"./constants-DJzGRNcz.js";import"./index.vue_vue_type_script_setup_true_lang-Dq_y5vYq.js";import"./LogoBox.vue_vue_type_script_setup_true_lang-wpPX1rPk.js";import"./MobileNavbarToggler-Bj1WYEMd.js";import"./menu-C3R5rgoV.js";import"./Footer7.vue_vue_type_script_setup_true_lang-c4vRZI93.js";import"./index-DLdkP7uh.js";import"./logo-light-sT18Thxh.js";import"./04-DIykCGoU.js";import"./09-BzxBVZmI.js";const K=["src"],O={key:1,class:"h5 mb-2 d-block"},P={class:"d-flex align-items-center mb-3"},Q=["src"],Y={class:"d-flex justify-content-between align-items-center"},Z={class:"h6 fw-light"},tt={class:"h6 fw-light"},et={class:"mt-3"},st=B({__name:"WishlistCard",props:{item:{}},setup(C){const i=N.useToast(),u=E(),n=G(),d=v(!1),c=R,{item:t}=C,h=async()=>{if(console.log("Item object in enrollCourse:",t),!(t!=null&&t.id)||!(t!=null&&t.title)||!(t!=null&&t.slug)){console.warn("Course data is incomplete:",{id:t==null?void 0:t.id,title:t==null?void 0:t.title,slug:t==null?void 0:t.slug}),i.error("Course data is incomplete.");return}try{d.value=!0,await n.addToCart({id:t.id,title:t.title,slug:t.slug,type:"course",image:t.cover,price:t.price||"0",final_price:t.final_price??parseFloat(t.price||"0")}),await n.fetchCartItems(),i.success("Course added to cart."),u.push({name:"shop.checkout"})}catch(e){console.error("Failed to add course to cart:",e),i.error(e.message||"Failed to add course to cart.")}finally{d.value=!1}};return(e,w)=>{const m=x("router-link"),_=x("font-awesome-icon"),p=I,k=T,V=S;return r(),g(V,{"no-body":"",class:"border rounded-3"},{default:s(()=>[o(m,{to:{name:"course.detail",params:{slug:e.item.slug}}},{default:s(()=>[a("img",{src:e.item.cover,class:"card-img-top",alt:"course img"},null,8,K)]),_:1},8,["to"]),o(k,null,{default:s(()=>{var $,F;return[e.item.slug?(r(),g(m,{key:0,to:{name:"course.detail",params:{slug:e.item.slug}},class:"h5 mb-2 d-block"},{default:s(()=>[f(l(e.item.title),1)]),_:1},8,["to"])):(r(),y("span",O,l(e.item.title),1)),a("div",P,[a("img",{src:(($=e.item.instructor)==null?void 0:$.avatar)||b(c),class:"avatar avatar-sm rounded-circle me-2",alt:"instructor"},null,8,Q),a("span",null,l(((F=e.item.instructor)==null?void 0:F.full_name)||"Unknown Instructor"),1)]),a("div",Y,[a("span",Z,[o(_,{icon:b(J),class:"text-warning me-1"},null,8,["icon"]),f(" "+l(e.item.rating||4.5),1)]),a("span",tt,[o(_,{icon:b(M),class:"text-primary me-1"},null,8,["icon"]),f(" "+l(e.item.student||0)+"k Students ",1)])]),a("div",et,[o(p,{variant:"success",class:"w-100",onClick:h,disabled:d.value},{default:s(()=>[f(l(d.value?"Adding...":"Enroll Now"),1)]),_:1},8,["disabled"])])]}),_:1})]),_:1})}}}),ot=z(st,[["__scopeId","data-v-39419f17"]]),at=a("h3",{class:"mb-0"},"Courses",-1),rt={key:0,class:"text-center my-3"},Lt={__name:"index",setup(C){const i=N.useToast(),u=v([]),n=v(!1);return L(async()=>{try{n.value=!0;const c=await q.get("course/courses/");u.value=c.data}catch(c){console.error("Failed to fetch courses:",c),i.error("Failed to fetch courses")}finally{n.value=!1}}),(c,t)=>{const h=W,e=X,w=A,m=T,_=S;return r(),g(D,null,{default:s(()=>[o(e,{xl:"9"},{default:s(()=>[o(_,{"no-body":"",class:"bg-transparent border rounded-3"},{default:s(()=>[o(h,{class:"bg-transparent border-bottom"},{default:s(()=>[at]),_:1}),o(m,{class:"p-3 p-md-4"},{default:s(()=>[o(w,{class:"g-4"},{default:s(()=>[(r(!0),y(U,null,H(u.value,(p,k)=>(r(),g(e,{sm:"6",lg:"6",key:p.id},{default:s(()=>[o(ot,{item:p},null,8,["item"])]),_:2},1024))),128))]),_:1}),n.value?(r(),y("div",rt,"Loading courses...")):j("",!0)]),_:1})]),_:1})]),_:1})]),_:1})}}};export{Lt as default};
