import{d as N,i as m,o as n,b as s,C as ae,w as t,$ as U,H as G,a as e,t as o,g as h,r as B,f as a,ci as Ce,F as D,m as I,q as F,y as z,au as de,c as q,x as S,av as me,aE as Fe,k as J,L as Q,b4 as ne,n as O,X,W as Z,G as _e,A as re,E as ee,Y as he,D as fe,e as Te,at as pe,J as E,a2 as je,a3 as Ae,aC as be,V as De,M as Se,N as Ve,p as qe,l as Ie,a$ as ge}from"./index-BKxaJmes.js";import{_ as Re}from"./PagesLayout.vue_vue_type_script_setup_true_lang-BtkvBusr.js";import{d as P,p as le,Y as ve,k as $e,c as Le,j as Ne,a as K,ao as Ee,aF as Pe,v as Be,aG as Me,a0 as Oe,aH as Ue,aI as Ge,aJ as ze,aK as He,aE as Ye,q as We}from"./index-DdoyQ2gK.js";import{u as ie}from"./cart--_4SzgrE.js";import{c as W}from"./constants-Bu7G09dq.js";import{_ as Qe}from"./CustomGLightbox.vue_vue_type_script_setup_true_lang-CGg3lnMz.js";import{d as Je,a as Ke,b as Xe,c as ce,i as ye,h as Ze,g as we,n as es}from"./index-DP6gMcTi.js";import{g as ss,c as oe,l as ts,m as os}from"./index-DwNiKAmd.js";import{e as as}from"./01-CX1z6QjX.js";import{a as se}from"./01-DeMBLNXD.js";import{_ as ns}from"./ChoicesSelect.vue_vue_type_script_setup_true_lang-B5ypeToF.js";import{a as ue}from"./09-BzxBVZmI.js";import{c as ls}from"./18-C5wUWLzY.js";import{c as is}from"./21-D-MDGxk-.js";import{_ as cs}from"./CustomTinySlider.vue_vue_type_script_setup_true_lang-D7257D2T.js";import{_ as rs}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./TopBar8.vue_vue_type_script_setup_true_lang-D157KbNp.js";import"./LogoBox.vue_vue_type_script_setup_true_lang-DtsTVlc2.js";import"./StickyHeader.vue_vue_type_script_setup_true_lang-Bd8hrDfw.js";import"./ProfileDropdown.vue_vue_type_script_setup_true_lang-DwdOghs1.js";import"./DropDown.vue_vue_type_script_setup_true_lang-DCXrtorV.js";import"./change-casing-BoyW-fpY.js";import"./MobileNavbarToggler-CAzdXCW6.js";import"./ShopCart.vue_vue_type_script_setup_true_lang-Dp2SNiK4.js";import"./02-CA1hCPq5.js";import"./04-D66rD-0h.js";import"./Footer1.vue_vue_type_script_setup_true_lang-LkP-8kz3.js";const us={class:"bg-light py-0 py-sm-5"},ds={class:"mb-3 font-base bg-primary text-white py-2 px-4 rounded-2 d-inline-block"},ms=["innerHTML"],_s={class:"list-inline mb-0"},hs={class:"list-inline-item h6 me-3 mb-1 mb-sm-0"},fs={class:"list-inline-item h6 me-3 mb-1 mb-sm-0"},ps={class:"list-inline-item h6 me-3 mb-1 mb-sm-0"},bs={class:"list-inline-item h6 me-3 mb-1 mb-sm-0"},gs={class:"list-inline-item h6 mb-0"},vs=N({__name:"PageIntro",props:{course:{type:Object,required:!0}},setup(i){const l=_=>new Date(_).toLocaleDateString("en-US",{month:"2-digit",year:"numeric"});return(_,d)=>{const p=B("font-awesome-icon"),c=G,v=U,$=ae;return n(),m("section",us,[s($,null,{default:t(()=>[s(v,{class:"py-5"},{default:t(()=>[s(c,{lg:"8"},{default:t(()=>[e("h6",ds,o(i.course.category||"General"),1),e("h1",null,o(i.course.title||"Course Title"),1),e("p",{innerHTML:i.course.description||"No description available."},null,8,ms),e("ul",_s,[e("li",hs,[s(p,{icon:a(P),class:"text-warning me-1"},null,8,["icon"]),h(" "+o(i.course.rating||"N/A")+"/5.0 ",1)]),e("li",fs,[s(p,{icon:a(le),class:"text-orange me-1"},null,8,["icon"]),h(" "+o(i.course.student||0)+" Enrolled ",1)]),e("li",ps,[s(p,{icon:a(ve),class:"text-success me-1"},null,8,["icon"]),h(" "+o(i.course.level||"All levels"),1)]),e("li",bs,[s(a(Ce),{class:"text-danger me-1"}),h(" Last updated "+o(i.course.updated_at?l(i.course.updated_at):"N/A"),1)]),e("li",gs,[s(p,{icon:a($e),class:"text-info me-1"},null,8,["icon"]),h(" "+o(i.course.language||"English"),1)])])]),_:1})]),_:1})]),_:1})])}}}),$s=e("h5",{class:"mb-3"},"Course Description",-1),ys={class:"mb-3"},ws={class:"mb-3"},ks=e("p",{class:"mb-0"}," This course focuses on practical, hands-on learning to help you master the skills needed. We combine theoretical foundations with real-world applications to ensure you can apply what you learn effectively. ",-1),xs=e("h5",{class:"mt-4"},"What you’ll learn",-1),Cs={class:"list-group list-group-borderless mb-3"},Fs={class:"mb-0"},Ts=N({__name:"OverviewTab",props:{course:{type:Object,required:!0}},setup(i){const l=["Understand key concepts and techniques.","Apply skills in real-world scenarios.","Master practical tools and strategies."];return(_,d)=>{const p=B("font-awesome-icon");return n(),m("div",null,[$s,e("p",ys,[h(" Welcome to "),e("strong",null,o(i.course.title||"this course"),1)]),e("p",ws,o(i.course.description||"No description available."),1),ks,xs,e("ul",Cs,[(n(!0),m(D,null,I(i.course.learning_objectives||l,(c,v)=>(n(),m("li",{class:"list-group-item h6 fw-light d-flex mb-0",key:v},[s(p,{icon:a(Le),class:"text-success me-2"},null,8,["icon"]),h(" "+o(c),1)]))),128))]),e("p",Fs,o(i.course.summary||"Join us to gain valuable skills and achieve your learning goals."),1)])}}}),js={class:"small ms-0 ms-sm-2"},As={class:"d-flex justify-content-between align-items-center"},Ds={key:0,class:"position-relative d-flex align-items-center"},Ss={class:"d-inline-block text-truncate ms-2 mb-0 h6 fw-light w-100px w-md-400px"},Vs={class:"badge text-bg-orange ms-2 ms-md-0"},qs={key:1,class:"position-relative d-flex align-items-center"},Is={href:"#",class:"btn btn-danger-soft btn-round btn-sm mb-0 stretched-link position-static","data-bs-toggle":"modal","data-bs-target":"#exampleModal"},Rs={class:"d-inline-block text-truncate ms-2 mb-0 h6 fw-light w-100px w-md-400px"},Ls={class:"mb-0 d-inline-block text-truncate w-70px w-sm-60px"},Ns={key:0},Es=e("span",{class:"small ms-0 ms-sm-2"},"(0 Lectures)",-1),Ps={class:"px-5 pb-5 position-relative overflow-hidden"},Bs={class:"position-absolute bottom-0 end-0 mb-n4 me-n4 d-none d-sm-block"},Ms=["src"],Os={class:"text-success"},Us=e("p",null,"Unlock all premium content and resources for this course.",-1),Gs={class:"list-group list-group-borderless"},zs={class:"list-group-item text-body"},Hs={class:"list-group-item text-body"},Ys={class:"list-group-item text-body"},Ws={class:"list-group list-group-borderless"},Qs={class:"list-group-item text-body"},Js={class:"list-group-item text-body"},Ks={class:"modal-footer d-block bg-info"},Xs={class:"d-sm-flex justify-content-sm-between align-items-center text-center text-sm-start"},Zs={class:"list-inline mb-0 social-media-btn mb-2 mb-sm-0"},et={class:"mb-1 small"},st={href:"#",class:"text-white"},tt={class:"mb-0 small"},ot={href:"#",class:"text-white"},at=N({__name:"CurriculumTab",props:{course:{type:Object,required:!0}},setup(i){const l=F(!1),_=z.useToast(),d=ne(),p=ie(),c=F(!1),v=[{icon:Je,class:"text-facebook"},{icon:Ke,class:"text-instagram"},{icon:Xe,class:"text-twitter"},{icon:ce,class:"text-linkedin"}],$=async()=>{if(!course.id||!course.title||!course.slug){_.error("Course data is incomplete.");return}try{c.value=!0,p.addToCart({id:course.id,title:course.title,slug:course.slug,type:"course",image:course.image,final_price:course.final_price??parseFloat(course.price||"0")}),await p.fetchCartItems(),d.push("/checkout")}catch(r){console.error("Failed to add course to cart:",r),_.error("Failed to add course to cart.")}finally{c.value=!1}};return(r,u)=>{const f=B("font-awesome-icon"),x=G,R=U,L=me,y=de,k=Q,A=Fe;return n(),m(D,null,[s(y,{class:"accordion-icon accordion-bg-light",id:"accordionExample2"},{default:t(()=>{var b;return[(n(!0),m(D,null,I(i.course.modules,(g,C)=>(n(),q(L,{key:C,"button-class":"fw-bold rounded d-sm-flex d-inline-block","header-class":"font-base","header-tag":"h6","body-class":"mt-3",class:"mb-3",visible:!C},{title:t(()=>{var j;return[h(o(g.title||`Module ${C+1}`)+" ",1),e("span",js,"("+o(((j=g.lectures)==null?void 0:j.length)||0)+" Lectures)",1)]}),default:t(()=>[(n(!0),m(D,null,I(g.lectures,(j,H)=>{var T;return n(),m(D,{key:H},[e("div",As,[j.isPremium?(n(),m("div",Ds,[e("div",null,[e("a",{href:"#",class:"btn btn-danger-soft btn-round btn-sm mb-0 stretched-link position-static","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:u[0]||(u[0]=Y=>l.value=!l.value)},[s(f,{icon:a(K),class:"me-0"},null,8,["icon"])])]),s(R,{class:"g-sm-0 align-items-center"},{default:t(()=>[s(x,{sm:"6"},{default:t(()=>[e("span",Ss,o(j.title),1)]),_:2},1024),s(x,{sm:"6"},{default:t(()=>[e("span",Vs,[s(f,{icon:a(Ee),class:"fa-fw me-1"},null,8,["icon"]),h(" Premium ")])]),_:1})]),_:2},1024)])):(n(),m("div",qs,[e("div",null,[e("a",Is,[s(f,{icon:a(K),class:"me-0"},null,8,["icon"])])]),s(R,{class:"g-sm-0 align-items-center"},{default:t(()=>[s(x,{sm:"6"},{default:t(()=>[e("span",Rs,o(j.title),1)]),_:2},1024)]),_:2},1024)])),e("p",Ls,o(j.time||"N/A"),1)]),((T=g.lectures)==null?void 0:T.length)!==H+1?(n(),m("hr",Ns)):S("",!0)],64)}),128))]),_:2},1032,["visible"]))),128)),(b=i.course.modules)!=null&&b.length?S("",!0):(n(),q(L,{key:0,"button-class":"fw-bold rounded d-sm-flex d-inline-block","header-class":"font-base","header-tag":"h6","body-class":"mt-3",class:"mb-3",visible:""},{title:t(()=>[h(" No Modules Available "),Es]),default:t(()=>[h(" There are currently no modules available for this course. ")]),_:1}))]}),_:1}),s(A,{modelValue:l.value,"onUpdate:modelValue":u[1]||(u[1]=b=>l.value=b),size:"lg","body-class":"p-0","header-class":"border-0","hide-footer":"",centered:""},{default:t(()=>{var b;return[e("div",Ps,[e("figure",Bs,[e("img",{src:a(as),alt:"element"},null,8,Ms)]),e("h2",null,[h("Get Premium Course in "),e("span",Os,o(a(W))+o(i.course.final_price??i.course.price),1)]),Us,s(R,{class:"mb-3 item-collapse"},{default:t(()=>[s(x,{sm:"6"},{default:t(()=>[e("ul",Gs,[e("li",zs,[s(a(J),{class:"text-success"}),h("High quality Curriculum ")]),e("li",Hs,[s(a(J),{class:"text-success"}),h("Tuition Assistance ")]),e("li",Ys,[s(a(J),{class:"text-success"}),h("Diploma course ")])])]),_:1}),s(x,{sm:"6"},{default:t(()=>[e("ul",Ws,[e("li",Qs,[s(a(J),{class:"text-success"}),h("Intermediate courses ")]),e("li",Js,[s(a(J),{class:"text-success"}),h("Over 200 online courses ")])])]),_:1})]),_:1}),s(k,{variant:"orange-soft",size:"lg",onClick:$,disabled:c.value},{default:t(()=>[h(o(c.value?"Adding...":"Purchase premium"),1)]),_:1},8,["disabled"])]),e("div",Ks,[e("div",Xs,[e("ul",Zs,[(n(),m(D,null,I(v,(g,C)=>e("li",{class:"list-inline-item",key:C},[e("a",{class:O(`btn btn-sm mb-0 me-1 bg-white ${g.class}`),href:"#"},[s(f,{icon:g.icon,class:"fa-fw"},null,8,["icon"])],2)])),64))]),e("div",null,[e("p",et,[e("a",st,[s(f,{icon:a(ss),class:"fa-fw me-2"},null,8,["icon"]),h(" "+o(((b=i.course.instructor)==null?void 0:b.email)||"example@gmail.com"),1)])]),e("p",tt,[e("a",ot,[s(f,{icon:a(Ne),class:"fa-fw me-2"},null,8,["icon"]),h(" 123-456-789 ")])])])])])]}),_:1},8,["modelValue"])],64)}}}),nt=["src"],lt={class:"mb-2"},it={class:"list-inline mb-3 hstack gap-1"},ct={class:"list-inline-item me-3"},rt={href:"#",class:"fs-5 text-twitter"},ut={class:"list-inline-item me-3"},dt={href:"#",class:"fs-5 text-instagram"},mt={class:"list-inline-item me-3"},_t={href:"#",class:"fs-5 text-facebook"},ht={class:"list-inline-item me-3"},ft={href:"#",class:"fs-5 text-linkedin"},pt={class:"list-inline-item"},bt={href:"#",class:"fs-5 text-youtube"},gt={class:"list-inline"},vt={class:"list-inline-item"},$t={class:"d-flex align-items-center me-3 mb-2"},yt={class:"icon-md bg-orange bg-opacity-10 text-orange rounded-circle"},wt={class:"h6 fw-light mb-0 ms-2"},kt={class:"list-inline-item"},xt={class:"d-flex align-items-center me-3 mb-2"},Ct={class:"icon-md bg-warning bg-opacity-15 text-warning rounded-circle"},Ft={class:"h6 fw-light mb-0 ms-2"},Tt={class:"list-inline-item"},jt={class:"d-flex align-items-center me-3 mb-2"},At={class:"icon-md bg-danger bg-opacity-10 text-danger rounded-circle"},Dt={class:"h6 fw-light mb-0 ms-2"},St={class:"list-inline-item"},Vt={class:"d-flex align-items-center me-3 mb-2"},qt={class:"icon-md bg-info bg-opacity-10 text-info rounded-circle"},It={class:"h6 fw-light mb-0 ms-2"},Rt=e("h5",{class:"mb-3"},"About Instructor",-1),Lt={class:"mb-3"},Nt={class:"mb-3"},Et={class:"list-group list-group-borderless mb-0"},Pt={class:"list-group-item pb-0"},Bt={href:"#",class:"ms-2"},Mt={class:"list-group-item pb-0"},Ot={href:"#",class:"ms-2"},Ut=N({__name:"InstructorTab",props:{instructor:{type:Object,required:!0},course:{type:Object,required:!0}},setup(i){const l=se;return(_,d)=>{const p=G,c=_e,v=B("font-awesome-icon"),$=Z,r=U,u=X;return n(),m("div",null,[s(u,{"no-body":"",class:"mb-0 mb-md-4"},{default:t(()=>[s(r,{class:"g-0 align-items-center"},{default:t(()=>[s(p,{md:"5"},{default:t(()=>[e("img",{src:i.instructor.avatar||a(l),class:"img-fluid rounded-3",alt:"instructor-img"},null,8,nt)]),_:1}),s(p,{md:"7"},{default:t(()=>[s($,null,{default:t(()=>[s(c,{tag:"h3",class:"mb-0"},{default:t(()=>[h(o(i.instructor.full_name||i.instructor.email||"Unknown Instructor"),1)]),_:1}),e("p",lt,"Instructor of "+o(i.course.category||"General"),1),e("ul",it,[e("li",ct,[e("a",rt,[s(v,{icon:a(ye)},null,8,["icon"])])]),e("li",ut,[e("a",dt,[s(v,{icon:a(Ze)},null,8,["icon"])])]),e("li",mt,[e("a",_t,[s(v,{icon:a(we)},null,8,["icon"])])]),e("li",ht,[e("a",ft,[s(v,{icon:a(ce)},null,8,["icon"])])]),e("li",pt,[e("a",bt,[s(v,{icon:a(es)},null,8,["icon"])])])]),e("ul",gt,[e("li",vt,[e("div",$t,[e("span",yt,[s(v,{icon:a(le)},null,8,["icon"])]),e("span",wt,o(i.course.student||0),1)])]),e("li",kt,[e("div",xt,[e("span",Ct,[s(v,{icon:a(P)},null,8,["icon"])]),e("span",Ft,o(i.course.rating||4.5),1)])]),e("li",Tt,[e("div",jt,[e("span",At,[s(v,{icon:a(K)},null,8,["icon"])]),e("span",Dt,o(i.course.total_modules||0)+" Courses",1)])]),e("li",St,[e("div",Vt,[e("span",qt,[s(v,{icon:a(Pe)},null,8,["icon"])]),e("span",It,o(i.course.reviews||0),1)])])])]),_:1})]),_:1})]),_:1})]),_:1}),Rt,e("p",Lt,o(i.instructor.bio||`Experienced instructor specializing in ${i.course.category||"various"} topics.`),1),e("p",Nt,o(i.instructor.full_name||"The instructor")+" brings years of expertise to help students achieve their learning goals.",1),s(p,{cols:"12"},{default:t(()=>[e("ul",Et,[e("li",Pt,[h("Mail ID: "),e("a",Bt,o(i.instructor.email||"N/A"),1)]),e("li",Mt,[h("Web: "),e("a",Ot,o(i.instructor.website||"https://eduport.com"),1)])])]),_:1})])}}}),Gt=e("h5",{class:"mb-4"},"Our Student Reviews",-1),zt={class:"text-center"},Ht={class:"mb-0"},Yt={class:"list-inline mb-0 flex-centered hstack gap-1"},Wt={class:"mb-0"},Qt={class:"list-inline mb-0 hstack gap-1"},Jt={key:0,class:"mb-4"},Kt={class:"avatar avatar-xl me-4 flex-shrink-0"},Xt=["src"],Zt={class:"d-sm-flex mt-1 mt-md-0 align-items-center"},eo={class:"me-3 mb-0"},so={class:"list-inline mb-0 hstack gap-1"},to={class:"small mb-2"},oo={class:"mb-2"},ao={class:"btn-group",role:"group","aria-label":"Review actions"},no={key:0},lo={class:"mt-2"},io=e("h5",{class:"mb-4"},"Leave a Review",-1),co=N({__name:"ReviewsTab",props:{course:{}},setup(i){const l=z.useToast(),_=F([]),d=F(""),p=F(""),c=F(""),v=F(""),$=F(!1),r=se,u=[{value:"5",label:"★★★★★ (5/5)"},{value:"4",label:"★★★★☆ (4/5)"},{value:"3",label:"★★★☆☆ (3/5)"},{value:"2",label:"★★☆☆☆ (2/5)"},{value:"1",label:"★☆☆☆☆ (1/5)"}],f=re(()=>_.value.length?(_.value.reduce((g,C)=>g+C.rating,0)/_.value.length).toFixed(1):0),x=re(()=>{const b={1:0,2:0,3:0,4:0,5:0};return _.value.forEach(g=>{b[g.rating]=(b[g.rating]||0)+1}),b}),R=async()=>{if(!(course!=null&&course.id)){console.warn("Course ID is missing, skipping review fetch.");return}try{const b=await E.get("/course/reviews/",{params:{course_id:course.id}});_.value=b.data}catch(b){console.error("Failed to fetch reviews:",b),l.error("Failed to load reviews.")}},L=async()=>{if(!d.value.trim()||!p.value.trim()||!c.value||!v.value.trim()){l.error("Please fill out all fields.");return}if(!(course!=null&&course.id)){l.error("Course ID is missing.");return}try{$.value=!0;const b=await E.post("/course/reviews/",{course_id:course.id,rating:parseInt(c.value),comment:v.value,name:d.value,email:p.value});_.value.unshift({...b.data,user:{full_name:d.value,avatar:r},likes:0,dislikes:0}),l.success("Review submitted successfully!"),d.value="",p.value="",c.value="",v.value=""}catch(b){console.error("Failed to submit review:",b),l.error("Failed to submit review.")}finally{$.value=!1}},y=async b=>{try{await E.post(`/course/reviews/${b}/like/`);const g=_.value.find(C=>C.id===b);g&&(g.likes+=1),l.success("Review liked.")}catch(g){console.error("Failed to like review:",g),l.error("Failed to like review.")}},k=async b=>{try{await E.post(`/course/reviews/${b}/dislike/`);const g=_.value.find(C=>C.id===b);g&&(g.dislikes+=1),l.success("Review disliked.")}catch(g){console.error("Failed to dislike review:",g),l.error("Failed to dislike review.")}},A=b=>{const g=Math.floor((new Date().getTime()-new Date(b).getTime())/864e5);return g<=7?`${g} days ago`:new Date(b).toLocaleDateString()};return ee(()=>{R()}),(b,g)=>{const C=B("font-awesome-icon"),j=G,H=Ae,T=je,Y=U,V=Q,te=Te,ke=pe,xe=he;return n(),m("div",null,[s(Y,{class:"mb-4"},{default:t(()=>[Gt,s(j,{md:"4",class:"mb-3 mb-md-0"},{default:t(()=>[e("div",zt,[e("h2",Ht,o(f.value||0),1),e("ul",Yt,[(n(),m(D,null,I(5,w=>e("li",{class:"list-inline-item me-0",key:w},[s(C,{icon:w<=Math.floor(f.value)?a(P):w<=f.value?a(Be):a(oe),class:"text-warning"},null,8,["icon"])])),64))]),e("p",Wt,"(Based on "+o(_.value.length)+" reviews)",1)])]),_:1}),s(j,{md:"8"},{default:t(()=>[(n(),m(D,null,I([5,4,3,2,1],w=>s(Y,{class:"align-items-center",key:w},{default:t(()=>[s(j,{cols:"6",sm:"8"},{default:t(()=>[s(T,{class:"progress-sm bg-warning bg-opacity-15"},{default:t(()=>[s(H,{class:"bg-warning",value:x.value[w]?x.value[w]/_.value.length*100:0},null,8,["value"])]),_:2},1024)]),_:2},1024),s(j,{cols:"6",sm:"4"},{default:t(()=>[e("ul",Qt,[(n(),m(D,null,I(5,M=>e("li",{class:"list-inline-item me-0 small",key:M},[s(C,{icon:M<=w?a(P):a(oe),class:"text-warning"},null,8,["icon"])])),64))])]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1}),_.value.length?(n(),m("div",Jt,[(n(!0),m(D,null,I(_.value,w=>(n(),m("div",{class:"d-md-flex my-4",key:w.id},[e("div",Kt,[e("img",{class:"avatar-img rounded-circle",src:w.user.avatar||a(r),alt:"avatar"},null,8,Xt)]),e("div",null,[e("div",Zt,[e("h5",eo,o(w.user.full_name||"Anonymous"),1),e("ul",so,[(n(),m(D,null,I(5,M=>e("li",{class:"list-inline-item me-0",key:M},[s(C,{icon:M<=w.rating?a(P):a(oe),class:"text-warning"},null,8,["icon"])])),64))])]),e("p",to,o(A(w.created_at)),1),e("p",oo,o(w.comment),1),e("div",ao,[s(V,{variant:"outline-light",size:"sm",onClick:M=>y(w.id)},{default:t(()=>[s(C,{icon:a(ts),class:"me-1"},null,8,["icon"]),h(" "+o(w.likes||0),1)]),_:2},1032,["onClick"]),s(V,{variant:"outline-light",size:"sm",onClick:M=>k(w.id)},{default:t(()=>[s(C,{icon:a(os),class:"me-1"},null,8,["icon"]),h(" "+o(w.dislikes||0),1)]),_:2},1032,["onClick"])])])]))),128)),_.value.length>1?(n(),m("hr",no)):S("",!0)])):S("",!0),e("div",lo,[io,s(xe,{class:"row g-3",onSubmit:fe(L,["prevent"])},{default:t(()=>[s(j,{md:"6",class:"bg-light-input"},{default:t(()=>[s(te,{modelValue:d.value,"onUpdate:modelValue":g[0]||(g[0]=w=>d.value=w),type:"text",id:"inputtext",placeholder:"Name"},null,8,["modelValue"])]),_:1}),s(j,{md:"6",class:"bg-light-input"},{default:t(()=>[s(te,{modelValue:p.value,"onUpdate:modelValue":g[1]||(g[1]=w=>p.value=w),type:"email",placeholder:"Email",id:"inputEmail4"},null,8,["modelValue"])]),_:1}),s(j,{cols:"12",class:"bg-light-input"},{default:t(()=>[s(ns,{id:"inputState2",modelValue:c.value,"onUpdate:modelValue":g[2]||(g[2]=w=>c.value=w),options:u,placeholder:"Select rating"},null,8,["modelValue"])]),_:1}),s(j,{cols:"12",class:"bg-light-input"},{default:t(()=>[s(ke,{modelValue:v.value,"onUpdate:modelValue":g[3]||(g[3]=w=>v.value=w),placeholder:"Your review",rows:"3","max-rows":"6",id:"exampleFormControlTextarea1"},null,8,["modelValue"])]),_:1}),s(j,{cols:"12"},{default:t(()=>[s(V,{type:"submit",variant:"primary",class:"mb-0",disabled:$.value},{default:t(()=>[h("Post Review")]),_:1},8,["disabled"])]),_:1})]),_:1})])])}}}),ro=e("h5",{class:"mb-3"},"Frequently Asked Questions",-1),uo={class:"text-secondary fw-bold me-3"},mo={class:"h6 mb-0"},_o=e("span",{class:"text-secondary fw-bold me-3"},"01",-1),ho=e("span",{class:"h6 mb-0"},"No FAQs Available",-1),fo=N({__name:"FAQsTab",props:{course:{type:Object,required:!0}},setup(i){return(l,_)=>{const d=me,p=de;return n(),m(D,null,[ro,s(p,{flush:""},{default:t(()=>{var c;return[(n(!0),m(D,null,I(i.course.faqs,(v,$)=>(n(),q(d,{key:$,"body-class":"pt-0",visible:!$},{title:t(()=>[e("span",uo,"0"+o($+1),1),e("span",mo,o(v.question),1)]),default:t(()=>[h(" "+o(v.answer),1)]),_:2},1032,["visible"]))),128)),(c=i.course.faqs)!=null&&c.length?S("",!0):(n(),q(d,{key:0,"body-class":"pt-0",visible:""},{title:t(()=>[_o,ho]),default:t(()=>[h(" There are currently no frequently asked questions available for this course. ")]),_:1}))]}),_:1})],64)}}}),po=e("h5",{class:"mb-4"},"Ask Your Question",-1),bo={class:"d-flex mb-4"},go={class:"avatar avatar-sm flex-shrink-0 me-2"},vo={href:"#"},$o=["src"],yo={key:0,class:"text-center py-3"},wo={key:1,class:"text-center py-3"},ko=e("p",null,"No comments yet. Be the first to comment!",-1),xo=[ko],Co={key:2,class:"border p-2 p-sm-4 rounded-3 mb-4"},Fo={class:"list-unstyled mb-0"},To={class:"d-flex mb-3"},jo={class:"avatar avatar-sm flex-shrink-0"},Ao={href:"#"},Do=["src"],So={class:"ms-2"},Vo={class:"bg-light p-3 rounded"},qo={class:"d-flex justify-content-between"},Io={class:"me-2"},Ro={class:"mb-1 lead fw-bold"},Lo={href:"#"},No={class:"h6 mb-0"},Eo={class:"nav nav-divider py-2 small"},Po={class:"nav-item"},Bo=["onClick"],Mo={class:"nav-item"},Oo=["onClick"],Uo={key:0,class:"nav-item"},Go=["onClick"],zo={key:0,class:"list-unstyled ms-4"},Ho={class:"d-flex"},Yo={class:"avatar avatar-xs flex-shrink-0"},Wo={href:"#"},Qo=["src"],Jo={class:"ms-2"},Ko={class:"bg-light p-3 rounded"},Xo={class:"d-flex justify-content-between"},Zo={class:"me-2"},ea={class:"mb-1 lead fw-bold"},sa={href:"#"},ta={class:"mb-0"},oa={class:"nav nav-divider py-2 small"},aa={class:"nav-item"},na=["onClick"],la=e("li",{class:"nav-item"},[e("a",{class:"text-primary-hover",href:"#"},"Reply")],-1),ia=N({__name:"CommentTab",props:{course:{}},setup(i){const l=z.useToast(),_=F([]),d=F(""),p=F(!1),c=F(!1),v=ue,$=ue,r=async()=>{if(!(course!=null&&course.slug)){console.warn("Course slug is missing, skipping comment fetch.");return}try{p.value=!0;const y=await E.get("course/comments/",{params:{course_slug:course.slug}});_.value=y.data.map(k=>({...k,replies:k.replies||[]}))}catch(y){console.error("Failed to fetch comments:",y),l.error("Failed to load comments.")}finally{p.value=!1}},u=async()=>{if(!d.value.trim()){l.error("Comment cannot be empty.");return}if(!(course!=null&&course.slug)){l.error("Course slug is missing.");return}try{c.value=!0;const y=await E.post("course/comments/",{course_slug:course.slug,content:d.value});_.value.unshift({...y.data,user:{full_name:y.data.user.full_name,avatar:y.data.user.avatar||$},likes:0,replies_count:0,replies:[]}),d.value="",l.success("Comment posted successfully.")}catch(y){console.error("Failed to post comment:",y),l.error("Failed to post comment.")}finally{c.value=!1}},f=async y=>{try{await E.post(`course/comments/${y}/like/`);const k=_.value.find(A=>A.id===y);k&&(k.likes+=1),l.success("Comment liked.")}catch(k){console.error("Failed to like comment:",k),l.error("Failed to like comment.")}},x=async y=>{try{const k=await E.get(`course/comments/${y}/replies/`),A=_.value.find(b=>b.id===y);A&&(A.replies=k.data)}catch(k){console.error("Failed to fetch replies:",k),l.error("Failed to fetch replies.")}},R=y=>{console.log("Show reply form for comment:",y)},L=y=>{const k=(new Date().getTime()-new Date(y).getTime())/36e5;return k<24?`${Math.round(k)}hr`:new Date(y).toLocaleDateString()};return ee(()=>{r()}),(y,k)=>{const A=pe,b=Q,g=he,C=be,j=G,H=U;return n(),m("div",null,[s(H,null,{default:t(()=>[s(j,{cols:"12"},{default:t(()=>[po,e("div",bo,[e("div",go,[e("a",vo,[e("img",{class:"avatar-img rounded-circle",src:a(v),alt:""},null,8,$o)])]),s(g,{class:"w-100 d-flex",onSubmit:fe(u,["prevent"])},{default:t(()=>[s(A,{modelValue:d.value,"onUpdate:modelValue":k[0]||(k[0]=T=>d.value=T),class:"one pe-4 bg-light",id:"autoheighttextarea",rows:"1",placeholder:"Add a comment..."},null,8,["modelValue"]),s(b,{variant:"primary",class:"ms-2 mb-0",type:"submit",disabled:c.value},{default:t(()=>[h("Post")]),_:1},8,["disabled"])]),_:1})]),p.value?(n(),m("div",yo,[s(C,{variant:"primary"})])):_.value.length===0?(n(),m("div",wo,xo)):(n(),m("div",Co,[e("ul",Fo,[(n(!0),m(D,null,I(_.value,T=>{var Y;return n(),m("li",{class:"comment-item",key:T.id},[e("div",To,[e("div",jo,[e("a",Ao,[e("img",{class:"avatar-img rounded-circle",src:T.user.avatar||a($),alt:""},null,8,Do)])]),e("div",So,[e("div",Vo,[e("div",qo,[e("div",Io,[e("h6",Ro,[e("a",Lo,o(T.user.full_name),1)]),e("p",No,o(T.content),1)]),e("small",null,o(L(T.created_at)),1)])]),e("ul",Eo,[e("li",Po,[e("a",{class:"text-primary-hover",href:"#",onClick:V=>f(T.id)},"Like ("+o(T.likes)+")",9,Bo)]),e("li",Mo,[e("a",{class:"text-primary-hover",href:"#",onClick:V=>R(T.id)},"Reply",8,Oo)]),T.replies_count>0?(n(),m("li",Uo,[e("a",{class:"text-primary-hover",href:"#",onClick:V=>x(T.id)}," View "+o(T.replies_count)+" replies ",9,Go)])):S("",!0)])])]),(Y=T.replies)!=null&&Y.length?(n(),m("ul",zo,[(n(!0),m(D,null,I(T.replies,V=>(n(),m("li",{class:"comment-item",key:V.id},[e("div",Ho,[e("div",Yo,[e("a",Wo,[e("img",{class:"avatar-img rounded-circle",src:V.user.avatar||a($),alt:""},null,8,Qo)])]),e("div",Jo,[e("div",Ko,[e("div",Xo,[e("div",Zo,[e("h6",ea,[e("a",sa,o(V.user.full_name),1)]),e("p",ta,o(V.content),1)]),e("small",null,o(L(V.created_at)),1)])]),e("ul",oa,[e("li",aa,[e("a",{class:"text-primary-hover",href:"#",onClick:te=>f(V.id)},"Like ("+o(V.likes)+")",9,na)]),la])])])]))),128))])):S("",!0)])}),128))])]))]),_:1})]),_:1})])}}}),ca={class:"nav nav-pills nav-tabs-line py-0",id:"course-pills-tab"},ra={class:"nav-item me-2 me-sm-4"},ua={class:"nav-item me-2 me-sm-4"},da={class:"nav-item me-2 me-sm-4"},ma={class:"nav-item me-2 me-sm-4"},_a={class:"nav-item me-2 me-sm-4"},ha={class:"nav-item me-2 me-sm-4"},fa=N({__name:"DetailTabs",props:{course:{}},setup(i){const l=F(1);return(_,d)=>{const p=De,c=Z,v=X,$=G;return n(),q($,{lg:"8"},{default:t(()=>[s(v,{"no-body":"",class:"shadow rounded-2 p-0"},{default:t(()=>[s(p,{class:"border-bottom px-4 py-3"},{default:t(()=>[e("ul",ca,[e("li",ra,[e("button",{class:O(["nav-link mb-2 mb-md-0",l.value===1&&"active"]),onClick:d[0]||(d[0]=r=>l.value=1)},"Overview",2)]),e("li",ua,[e("button",{class:O(["nav-link mb-2 mb-md-0",l.value===2&&"active"]),onClick:d[1]||(d[1]=r=>l.value=2)},"Curriculum",2)]),e("li",da,[e("button",{class:O(["nav-link mb-2 mb-md-0",l.value===3&&"active"]),onClick:d[2]||(d[2]=r=>l.value=3)},"Instructor",2)]),e("li",ma,[e("button",{class:O(["nav-link mb-2 mb-md-0",l.value===4&&"active"]),onClick:d[3]||(d[3]=r=>l.value=4)},"Reviews",2)]),e("li",_a,[e("button",{class:O(["nav-link mb-2 mb-md-0",l.value===5&&"active"]),onClick:d[4]||(d[4]=r=>l.value=5)},"FAQs",2)]),e("li",ha,[e("button",{class:O(["nav-link mb-2 mb-md-0",l.value===6&&"active"]),onClick:d[5]||(d[5]=r=>l.value=6)},"Comment",2)])])]),_:1}),s(c,{class:"p-4"},{default:t(()=>[l.value===1?(n(),q(Ts,{key:0,course:_.course},null,8,["course"])):S("",!0),l.value===2?(n(),q(at,{key:1,course:_.course},null,8,["course"])):S("",!0),l.value===3?(n(),q(Ut,{key:2,instructor:_.course.instructor,course:_.course},null,8,["instructor","course"])):S("",!0),l.value===4?(n(),q(co,{key:3,course:_.course},null,8,["course"])):S("",!0),l.value===5?(n(),q(fo,{key:4,course:_.course},null,8,["course"])):S("",!0),l.value===6?(n(),q(ia,{key:5,course:_.course},null,8,["course"])):S("",!0)]),_:1})]),_:1})]),_:1})}}}),pa={class:"pb-0 py-lg-5"},ba={class:"overflow-hidden rounded-3"},ga=["src"],va=e("div",{class:"bg-overlay bg-dark opacity-6"},null,-1),$a={class:"card-img-overlay d-flex align-items-start flex-column p-3"},ya={class:"m-auto"},wa={class:"d-flex justify-content-between align-items-center"},ka={class:"d-flex align-items-center"},xa={class:"fw-bold mb-0 me-2"},Ca={key:0,class:"text-decoration-line-through mb-0 me-2"},Fa={key:1,class:"badge text-bg-orange mb-0"},Ta={key:0,class:"mb-0 text-danger"},ja={class:"mt-3 d-sm-flex justify-content-sm-between"},Aa=e("a",{href:"#",class:"btn btn-outline-primary mb-0"},"Free trial",-1),Da=e("h4",{class:"mb-3"},"This course includes",-1),Sa={class:"list-group list-group-borderless"},Va={class:"list-group-item d-flex justify-content-between align-items-center"},qa={class:"h6 fw-light mb-0"},Ia={class:"list-group-item d-flex justify-content-between align-items-center"},Ra={class:"h6 fw-light mb-0"},La={class:"list-group-item d-flex justify-content-between align-items-center"},Na={class:"h6 fw-light mb-0"},Ea={class:"list-group-item d-flex justify-content-between align-items-center"},Pa={class:"h6 fw-light mb-0"},Ba={class:"list-group-item d-flex justify-content-between align-items-center"},Ma={class:"h6 fw-light mb-0"},Oa={class:"list-group-item d-flex justify-content-between align-items-center"},Ua={class:"h6 fw-light mb-0"},Ga=e("h4",{class:"mb-3"},"Recently Viewed",-1),za=["src"],Ha=e("h6",{class:"mb-0"},[e("a",{href:"#"},"Fundamentals of Business Analysis")],-1),Ya={class:"list-group list-group-borderless mt-1 d-flex justify-content-between"},Wa={class:"list-group-item px-0 d-flex justify-content-between"},Qa={class:"text-success"},Ja={class:"h6 fw-light"},Ka=["src"],Xa=e("h6",{class:"mb-0"},[e("a",{href:"#"},"The Complete Video Production Bootcamp")],-1),Za={class:"list-group list-group-borderless mt-1 d-flex justify-content-between"},en={class:"list-group-item px-0 d-flex justify-content-between"},sn={class:"text-success"},tn={class:"h6 fw-light"},on=e("h4",{class:"mb-3"},"Popular Tags",-1),an={class:"list-inline mb-0"},nn={class:"btn btn-outline-light btn-sm",href:"#"},ln=N({__name:"PageContent",props:{course:{}},setup(i){const l=z.useToast(),_=ne(),d=ie(),p=F(!1),{course:c}=i,v=async()=>{if(console.log("Course object in enrollCourse:",c),!(c!=null&&c.id)||!(c!=null&&c.title)||!(c!=null&&c.slug)){l.error("Course data is incomplete.");return}try{p.value=!0,await d.addToCart({id:c.id,title:c.title,slug:c.slug,type:"course",image:c.image,final_price:c.final_price??parseFloat(c.price||"0")}),await d.fetchCartItems(),l.success("Course added to cart."),_.push("/checkout")}catch(r){console.error("Failed to add course to cart:",r),l.error(r.message||"Failed to add course to cart.")}finally{p.value=!1}},$=r=>{const u=new Date(r),f=new Date,x=Math.ceil((u.getTime()-f.getTime())/(1e3*60*60*24));return x>0?`${x} days left at this price`:"Offer expired"};return(r,u)=>{const f=B("font-awesome-icon"),x=Ve,R=Se,L=Q,y=Z,k=X,A=G,b=U,g=ae;return n(),m("section",pa,[s(g,null,{default:t(()=>[s(b,null,{default:t(()=>[s(fa,{course:r.course},null,8,["course"]),s(A,{lg:"4",class:"pt-5 pt-lg-0"},{default:t(()=>[s(b,{class:"mb-5 mb-lg-0"},{default:t(()=>[s(A,{md:"6",lg:"12"},{default:t(()=>[s(k,{"no-body":"",class:"shadow p-2 mb-4 z-index-9"},{default:t(()=>[e("div",ba,[e("img",{src:r.course.image,class:"card-img",alt:"course img"},null,8,ga),va,e("div",$a,[e("div",ya,[s(Qe,{link:r.course.video_url||"https://www.youtube.com/embed/tXHviS-4ygo",class:"btn btn-lg text-danger btn-round btn-white-shadow mb-0"},{default:t(()=>[s(f,{icon:a(K)},null,8,["icon"])]),_:1},8,["link"])])])]),s(y,{class:"px-3"},{default:t(()=>[e("div",wa,[e("div",null,[e("div",ka,[e("h3",xa,o(a(W))+o(r.course.final_price??r.course.price),1),r.course.discount_percentage&&parseFloat(r.course.discount_percentage)>0?(n(),m("span",Ca,o(a(W))+o(r.course.price),1)):S("",!0),r.course.discount_percentage&&parseFloat(r.course.discount_percentage)>0?(n(),m("span",Fa,o(r.course.discount_percentage)+"% off",1)):S("",!0)]),r.course.discount_deadline?(n(),m("p",Ta,[s(f,{icon:a(Me),class:"me-2"},null,8,["icon"]),h(" "+o($(r.course.discount_deadline)),1)])):S("",!0)]),s(R,{end:"",variant:"link","toggle-class":"btn btn-sm btn-light rounded small","menu-class":"dropdown-w-sm dropdown-menu-end shadow rounded","no-caret":""},{"button-content":t(()=>[s(f,{icon:a(Ue),class:"fa-fw"},null,8,["icon"])]),default:t(()=>[s(x,{href:"#"},{default:t(()=>[s(f,{icon:a(ye),class:"me-2"},null,8,["icon"]),h(" Twitter ")]),_:1}),s(x,{href:"#"},{default:t(()=>[s(f,{icon:a(we),class:"me-2"},null,8,["icon"]),h(" Facebook ")]),_:1}),s(x,{href:"#"},{default:t(()=>[s(f,{icon:a(ce),class:"me-2"},null,8,["icon"]),h(" LinkedIn ")]),_:1}),s(x,{href:"#"},{default:t(()=>[s(f,{icon:a(Oe),class:"me-2"},null,8,["icon"]),h(" Copy link ")]),_:1})]),_:1})]),e("div",ja,[Aa,s(L,{variant:"success",class:"mb-0",onClick:v,disabled:p.value},{default:t(()=>[h(o(p.value?"Adding...":"Enroll Now"),1)]),_:1},8,["disabled"])])]),_:1})]),_:1}),s(k,{"no-body":"",class:"card-body shadow p-4 mb-4"},{default:t(()=>[Da,e("ul",Sa,[e("li",Va,[e("span",qa,[s(f,{icon:a(Ge),class:"fa-fw text-primary"},null,8,["icon"]),h(" Lectures ")]),e("span",null,o(r.course.total_videos||0),1)]),e("li",Ia,[e("span",Ra,[s(f,{icon:a(ze),class:"fa-fw text-primary"},null,8,["icon"]),h(" Duration ")]),e("span",null,o(r.course.duration||"N/A"),1)]),e("li",La,[e("span",Na,[s(f,{icon:a(ve),class:"fa-fw text-primary"},null,8,["icon"]),h(" Skills ")]),e("span",null,o(r.course.level||"Beginner"),1)]),e("li",Ea,[e("span",Pa,[s(f,{icon:a($e),class:"fa-fw text-primary"},null,8,["icon"]),h(" Language ")]),e("span",null,o(r.course.language||"English"),1)]),e("li",Ba,[e("span",Ma,[s(f,{icon:a(He),class:"fa-fw text-primary"},null,8,["icon"]),h(" Deadline ")]),e("span",null,o(r.course.discount_deadline?$(r.course.discount_deadline):"N/A"),1)]),e("li",Oa,[e("span",Ua,[s(f,{icon:a(Ye),class:"fa-fw text-primary"},null,8,["icon"]),h(" Certificate ")]),e("span",null,o(r.course.certificate?"Yes":"No"),1)])])]),_:1})]),_:1}),s(A,{md:"6",lg:"12"},{default:t(()=>[s(k,{"no-body":"",class:"card-body shadow p-4 mb-4"},{default:t(()=>[Ga,s(b,{class:"gx-3 mb-3"},{default:t(()=>[s(A,{cols:"4"},{default:t(()=>[e("img",{class:"rounded",src:a(is),alt:""},null,8,za)]),_:1}),s(A,{cols:"8"},{default:t(()=>[Ha,e("ul",Ya,[e("li",Wa,[e("span",Qa,o(a(W))+"130",1),e("span",Ja,[h("4.5 "),s(f,{icon:a(P),class:"text-warning ms-1"},null,8,["icon"])])])])]),_:1})]),_:1}),s(b,{class:"gx-3"},{default:t(()=>[s(A,{cols:"4"},{default:t(()=>[e("img",{class:"rounded",src:a(ls),alt:""},null,8,Ka)]),_:1}),s(A,{cols:"8"},{default:t(()=>[Xa,e("ul",Za,[e("li",en,[e("span",sn,o(a(W))+"150",1),e("span",tn,[h("4.0 "),s(f,{icon:a(P),class:"text-warning ms-1"},null,8,["icon"])])])])]),_:1})]),_:1})]),_:1}),s(k,{"no-body":"",class:"card-body shadow p-4"},{default:t(()=>[on,e("ul",an,[(n(!0),m(D,null,I(r.course.tags,C=>(n(),m("li",{key:C,class:"list-inline-item"},[e("a",nn,o(C),1)]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}}}),cn=i=>(qe("data-v-769aea47"),i=i(),Ie(),i),rn={class:"rounded-top overflow-hidden"},un={class:"card-overlay-hover"},dn=["src"],mn={class:"card-img-overlay"},_n={class:"card-element-hover d-flex justify-content-end"},hn={class:"d-flex justify-content-between"},fn={class:"list-inline hstack gap-2 mb-0"},pn={class:"list-inline-item d-flex justify-content-center align-items-center"},bn={class:"icon-md bg-orange bg-opacity-10 text-orange rounded-circle"},gn={class:"h6 fw-light ms-2 mb-0"},vn={class:"list-inline-item d-flex justify-content-center align-items-center"},$n={class:"icon-md bg-warning bg-opacity-15 text-warning rounded-circle"},yn={class:"h6 fw-light ms-2 mb-0"},wn={class:"avatar avatar-sm"},kn=["src"],xn=cn(()=>e("hr",null,null,-1)),Cn={key:1},Fn={class:"d-flex justify-content-between align-items-center"},Tn={href:"#",class:"badge bg-info bg-opacity-10 text-info"},jn={class:"text-success mb-0"},An=N({__name:"CourseCard",props:{item:{type:Object,required:!0}},setup(i){const l=se,_=z.useToast(),d=ne(),p=ie(),c=F(!1),v=async()=>{if(!item.id||!item.title||!item.slug){_.error("Course data is incomplete.");return}try{c.value=!0,p.addToCart({id:item.id,title:item.title,slug:item.slug,type:"course",image:item.image,final_price:item.final_price??parseFloat(item.price||"0")}),await p.fetchCartItems(),d.push({name:"shop.checkout"})}catch($){console.error("Failed to add course to cart:",$),_.error("Failed to add course to cart.")}finally{c.value=!1}};return($,r)=>{const u=Q,f=B("font-awesome-icon"),x=B("router-link"),R=_e,L=Z,y=X;return n(),q(y,{"no-body":"",class:"p-2 border"},{default:t(()=>[e("div",rn,[e("div",un,[e("img",{src:i.item.cover||a(l),class:"card-img-top",alt:"course img"},null,8,dn)]),e("div",mn,[e("div",_n,[s(u,{variant:"danger",size:"sm",onClick:v,disabled:c.value},{default:t(()=>[h(o(c.value?"Adding...":"Enroll"),1)]),_:1},8,["disabled"])])])]),s(L,null,{default:t(()=>[e("div",hn,[e("ul",fn,[e("li",pn,[e("div",bn,[s(f,{icon:a(le)},null,8,["icon"])]),e("span",gn,o(i.item.student||0)+"k",1)]),e("li",vn,[e("div",$n,[s(f,{icon:a(P)},null,8,["icon"])]),e("span",yn,o(i.item.rating||4.5),1)])]),e("div",wn,[e("img",{class:"avatar-img rounded-circle",src:i.item.avatar||a(l),alt:"avatar"},null,8,kn)])]),xn,s(R,{tag:"h5"},{default:t(()=>[i.item.slug?(n(),q(x,{key:0,to:{name:"course.detail",params:{slug:i.item.slug}}},{default:t(()=>[h(o(i.item.title),1)]),_:1},8,["to"])):(n(),m("span",Cn,o(i.item.title),1))]),_:1}),e("div",Fn,[e("a",Tn,[s(f,{icon:a(We),class:"small fw-bold me-1"},null,8,["icon"]),h(" "+o(i.item.category||"General"),1)]),e("h3",jn,o(a(W))+o(i.item.final_price??i.item.price),1)])]),_:1})]),_:1})}}}),Dn=rs(An,[["__scopeId","data-v-769aea47"]]),Sn={class:"pt-0"},Vn=e("h2",{class:"mb-0"},"Top Listed Courses",-1),qn={key:0,class:"text-center py-3"},In={class:"text-danger"},Rn={key:1,class:"text-center py-3"},Ln=e("p",null,"No courses available at the moment.",-1),Nn=[Ln],En={key:2,class:"arrow-round arrow-blur arrow-hover"},Pn=N({__name:"ListedCourses",props:{course:{}},setup(i){const l=z.useToast();ge();const _=se,d=F([]),p=F(!0),c=F(null),v={arrowKeys:!0,gutter:30,autoplayButton:!1,autoplayButtonOutput:!1,nested:"inner",mouseDrag:!0,autoplay:!1,controls:!0,edgePadding:2,items:3,nav:!1,responsive:{1:{items:1},576:{items:1},768:{items:2},992:{items:2},1200:{items:3}}},$=async()=>{try{p.value=!0;const r=await E.get("course/courses/",{params:{limit:6}});console.log("Raw API response for top courses:",r.data),d.value=r.data.filter(u=>{const f=u.id&&u.title&&u.slug;return f||console.warn("Invalid course filtered out:",u),f}).map(u=>{var f,x;return{...u,image:u.image||"/default-course-image.jpg",price:u.price||"0",final_price:u.final_price??parseFloat(u.price||"0"),category:((f=u.tags)==null?void 0:f.length)>0?u.tags[0]:"General",rating:u.rating||4.5,student:u.student||0,avatar:((x=u.instructor)==null?void 0:x.avatar)||_,ispublished:u.ispublished??!0}}),console.log("Processed top courses:",d.value),d.value.length||l.info("No valid courses available.")}catch(r){console.error("Failed to fetch top courses:",r),r.value="Failed to load courses.",l.error("Failed to load courses.")}finally{p.value=!1}};return ee(()=>{$()}),(r,u)=>{const f=U,x=ae;return n(),m("section",Sn,[s(x,null,{default:t(()=>[s(f,{class:"mb-4"},{default:t(()=>[Vn]),_:1}),s(f,null,{default:t(()=>[c.value?(n(),m("div",qn,[e("p",In,o(c.value),1)])):!d.value.length&&!p.value?(n(),m("div",Rn,Nn)):(n(),m("div",En,[s(cs,{settings:v,id:"course-detail-slider"},{default:t(()=>[(n(!0),m(D,null,I(d.value,(R,L)=>(n(),m("div",{class:"pb-4",key:L},[s(Dn,{item:R},null,8,["item"])]))),128))]),_:1})]))]),_:1})]),_:1})])}}}),Bn={key:0,class:"text-center py-5"},Mn={key:1,class:"text-center py-5"},On={class:"text-danger"},Un={key:2},bl={__name:"index",setup(i){const l=z.useToast(),_=ge(),d=F({}),p=F(!1),c=F(null),v=async()=>{var $,r;try{p.value=!0,console.log("Fetching course with slug:",_.params.slug);const u=await E.get(`course/courses/${_.params.slug}/`);d.value={...u.data,image:u.data.cover||"/default-course-image.jpg",category:(($=u.data.tags)==null?void 0:$.length)>0?u.data.tags[0]:"General",level:u.data.level||"Beginner",language:u.data.language||"English",certificate:u.data.certificate??!1,rating:u.data.rating||4.5,duration:u.data.duration||`${u.data.total_videos||10}h 0m`,student:u.data.student||12,modules:u.data.modules||[],faqs:u.data.faqs||[],reviews:u.data.reviews||0},console.log("Course fetched:",d.value)}catch(u){console.error("Failed to fetch course:",u),c.value=((r=u.response)==null?void 0:r.status)===404?`Course with slug "${_.params.slug}" not found.`:"Failed to load course details. Please try again.",l.error(c.value)}finally{p.value=!1}};return ee(()=>{v()}),($,r)=>{const u=be,f=Q;return n(),q(Re,null,{default:t(()=>[p.value?(n(),m("div",Bn,[s(u,{variant:"primary"})])):c.value?(n(),m("div",Mn,[e("p",On,o(c.value),1),s(f,{variant:"primary",to:"/courses"},{default:t(()=>[h("Back to Courses")]),_:1})])):(n(),m("div",Un,[s(vs,{course:d.value},null,8,["course"]),s(ln,{course:d.value},null,8,["course"]),s(Pn,{course:d.value},null,8,["course"])]))]),_:1})}}};export{bl as default};
