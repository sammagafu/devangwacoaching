import{_ as Y}from"./PagesLayout.vue_vue_type_script_setup_true_lang-BtkvBusr.js";import{d as B,r as Q,c as A,o as i,w as o,a as e,b as t,f as g,W as X,i as u,x as U,n as O,t as b,G as J,g as V,F as x,m as P,U as K,X as E,q as _,Y as H,D as N,H as D,h as F,z as Z,L as M,aA as S,ab as ee,E as z,A as j,C as T,$ as I,aB as te,e as ae,aC as le,s as se,y as ne,J as oe}from"./index-BKxaJmes.js";import{O as ie,d as re,v as ce,e as ue,t as de,T as me,f as fe,U as be,V as _e,N as pe}from"./index-DdoyQ2gK.js";import{d as ve,c as ge,a as he}from"./index-DwNiKAmd.js";import{a as ye}from"./01-DeMBLNXD.js";import{p as $e}from"./04-DIykCGoU.js";/* empty css                    */import"./TopBar8.vue_vue_type_script_setup_true_lang-D157KbNp.js";import"./LogoBox.vue_vue_type_script_setup_true_lang-DtsTVlc2.js";import"./StickyHeader.vue_vue_type_script_setup_true_lang-Bd8hrDfw.js";import"./ProfileDropdown.vue_vue_type_script_setup_true_lang-DwdOghs1.js";import"./DropDown.vue_vue_type_script_setup_true_lang-DCXrtorV.js";import"./change-casing-BoyW-fpY.js";import"./MobileNavbarToggler-CAzdXCW6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ShopCart.vue_vue_type_script_setup_true_lang-Dp2SNiK4.js";import"./ChoicesSelect.vue_vue_type_script_setup_true_lang-B5ypeToF.js";import"./02-CA1hCPq5.js";import"./04-D66rD-0h.js";import"./Footer1.vue_vue_type_script_setup_true_lang-LkP-8kz3.js";import"./constants-Bu7G09dq.js";const ke=["src"],we={class:"d-flex justify-content-between mb-2"},xe={key:0,href:"#",class:"h6 text-danger mb-0"},Pe={key:1,href:"#",class:"h6 fw-light mb-0"},Ce={class:"mb-2 text-truncate-2"},Le={key:0,class:"mb-2 small"},Ae={key:1,class:"mb-2 small"},Ve={key:0,class:"text-success"},Fe={class:"list-inline mb-0 hstack gap-1"},Se={key:0,class:"list-inline-item me-0 small"},Ue={class:"list-inline-item ms-2 h6 fw-light mb-0"},Oe=e("hr",null,null,-1),Qe={class:"d-flex justify-content-between"},qe={class:"h6 fw-light mb-0"},Ne={class:"h6 fw-light mb-0"},Be=B({__name:"CourseCard",props:{item:{type:Object,required:!0}},setup(l){const s=ye;return(y,h)=>{const n=Q("font-awesome-icon"),d=Q("router-link"),a=J,m=X,k=K,$=E;return i(),A($,{"no-body":"",class:"shadow h-100"},{default:o(()=>[e("img",{src:l.item.image||g(s),class:"card-img-top",alt:"course img"},null,8,ke),t(m,{class:"pb-0"},{default:o(()=>{var C,w,f;return[e("div",we,[e("a",{href:"#",class:O(`badge bg-${(C=l.item.badge)==null?void 0:C.class} bg-opacity-10 text-${(w=l.item.badge)==null?void 0:w.class}`)},b((f=l.item.badge)==null?void 0:f.text),3),l.item.isLike?(i(),u("a",xe,[t(n,{icon:g(ie)},null,8,["icon"])])):(i(),u("a",Pe,[t(n,{icon:g(ve)},null,8,["icon"])]))]),t(a,{tag:"h5"},{default:o(()=>[t(d,{to:{name:"course.detail",params:{slug:l.item.slug}}},{default:o(()=>[V(b(l.item.title),1)]),_:1},8,["to"])]),_:1}),e("p",Ce,b(l.item.description),1),l.item.instructor?(i(),u("p",Le,"Instructor: "+b(l.item.instructor.full_name),1)):U("",!0),l.item.price!==void 0?(i(),u("p",Ae,[V(" Price: TZS "+b(l.item.final_price||l.item.price)+" ",1),l.item.discount_percentage>0?(i(),u("span",Ve," ("+b(l.item.discount_percentage)+"% off) ",1)):U("",!0)])):U("",!0),e("ul",Fe,[(i(!0),u(x,null,P(Array(Math.floor(l.item.rating)).fill(0),(p,v)=>(i(),u("li",{class:"list-inline-item me-0 small",key:v},[t(n,{icon:g(re),class:"text-warning"},null,8,["icon"])]))),128)),Number.isInteger(l.item.rating)?U("",!0):(i(),u("li",Se,[t(n,{icon:g(ce),class:"text-warning"},null,8,["icon"])])),(i(!0),u(x,null,P(l.item.rating<5&&Array(5-Math.ceil(l.item.rating)).fill(0),(p,v)=>(i(),u("li",{class:"list-inline-item me-0 small",key:v},[t(n,{icon:g(ge),class:"text-warning"},null,8,["icon"])]))),128)),e("li",Ue,b(l.item.rating)+"/5.0",1)])]}),_:1}),t(k,{class:"pt-0 pb-3"},{default:o(()=>[Oe,e("div",Qe,[e("span",qe,[t(n,{icon:g(he),class:"text-danger me-2"},null,8,["icon"]),V(b(l.item.duration),1)]),e("span",Ne,[t(n,{icon:g(ue),class:"text-orange me-2"},null,8,["icon"]),V(b(l.item.lectures)+" lectures",1)])])]),_:1})]),_:1})}}}),De=e("h4",{class:"mb-3"},"Category",-1),je={class:"form-check"},Ee=["id","value"],He=["for"],Me={class:"small"},ze={class:"form-check"},Te=["id","value"],Ie=["for"],Ge={class:"small"},Re={class:"p-0 mb-0 mt-2 btn-more d-flex align-items-center","data-bs-toggle":"collapse",href:"#multiCollapseExample1",role:"button","aria-expanded":"false","aria-controls":"multiCollapseExample1"},We=e("span",{class:"see-more ms-1"},"more",-1),Ye=e("span",{class:"see-less ms-1"},"less",-1),Xe={class:"see-more ms-1"},Je={class:"see-less ms-1"},Ke=e("h4",{class:"mb-3"},"Price Level",-1),Ze={class:"list-inline mb-0"},et=["id","value"],tt=["for"],at=e("h4",{class:"mb-3"},"Skill Level",-1),lt={class:"list-inline mb-0"},st=["id","value"],nt=["for"],ot=e("h4",{class:"mb-3"},"Language",-1),it={class:"list-inline mb-0 g-3"},rt=["id","value"],ct=["for"],ut=B({__name:"Filter",emits:["filter-applied"],setup(l){const s=_(""),y=_(""),h=_(""),n=_(""),d=_([{value:"",label:"All",count:1256},{value:"development",label:"Development",count:365},{value:"design",label:"Design",count:156},{value:"accounting",label:"Accounting",count:65},{value:"translation",label:"Translation",count:245},{value:"finance",label:"Finance",count:184},{value:"legal",label:"Legal",count:65},{value:"photography",label:"Photography",count:99}]),a=_([{value:"writing",label:"Writing",count:178},{value:"marketing",label:"Marketing",count:104}]),m=_([{value:"",label:"All"},{value:"free",label:"Free"},{value:"paid",label:"Paid"}]),k=_([{value:"",label:"All levels"},{value:"beginner",label:"Beginner"},{value:"intermediate",label:"Intermediate"},{value:"advanced",label:"Advanced"}]),$=_([{value:"",label:"All"},{value:"english",label:"English"},{value:"french",label:"French"},{value:"hindi",label:"Hindi"},{value:"russian",label:"Russian"},{value:"spanish",label:"Spanish"},{value:"bengali",label:"Bengali"},{value:"portuguese",label:"Portuguese"}]),C=()=>{const w={category:s.value,price:y.value,level:h.value,language:n.value};emit("filter-applied",w)};return(w,f)=>{const p=E,v=Z,r=Q("font-awesome-icon"),q=D,G=M,R=H,W=ee;return i(),A(R,{onSubmit:N(C,["prevent"])},{default:o(()=>[t(p,{"no-body":"",class:"card-body shadow p-4 mb-4"},{default:o(()=>[De,t(q,{cols:"12"},{default:o(()=>[(i(!0),u(x,null,P(d.value,c=>(i(),u("div",{class:"d-flex justify-content-between align-items-center",key:c.value},[e("div",je,[F(e("input",{class:"form-check-input",type:"radio",id:`category-${c.value}`,value:c.value,"onUpdate:modelValue":f[0]||(f[0]=L=>s.value=L),name:"category"},null,8,Ee),[[S,s.value]]),e("label",{class:"form-check-label",for:`category-${c.value}`},b(c.label),9,He)]),e("span",Me,"("+b(c.count)+")",1)]))),128)),t(v,{class:"multi-collapse",id:"multiCollapseExample1"},{default:o(()=>[t(p,{"no-body":"",class:"card-body p-0"},{default:o(()=>[(i(!0),u(x,null,P(a.value,c=>(i(),u("div",{class:"d-flex justify-content-between align-items-center",key:c.value},[e("div",ze,[F(e("input",{class:"form-check-input",type:"radio",id:`category-${c.value}`,value:c.value,"onUpdate:modelValue":f[1]||(f[1]=L=>s.value=L),name:"category"},null,8,Te),[[S,s.value]]),e("label",{class:"form-check-label",for:`category-${c.value}`},b(c.label),9,Ie)]),e("span",Ge,"("+b(c.count)+")",1)]))),128))]),_:1})]),_:1}),F((i(),u("a",Re,[V(" See "),We,Ye,e("span",Xe,[t(r,{icon:g(de),class:"ms-1"},null,8,["icon"])]),e("span",Je,[t(r,{icon:g(me),class:"ms-1"},null,8,["icon"])])])),[[W,"multiCollapseExample1"]])]),_:1})]),_:1}),t(p,{"no-body":"",class:"card-body shadow p-4 mb-4"},{default:o(()=>[Ke,e("ul",Ze,[(i(!0),u(x,null,P(m.value,c=>(i(),u("li",{class:"list-inline-item",key:c.value},[F(e("input",{type:"radio",class:"btn-check",id:`price-${c.value}`,value:c.value,"onUpdate:modelValue":f[2]||(f[2]=L=>y.value=L),name:"price"},null,8,et),[[S,y.value]]),e("label",{class:"btn btn-light btn-primary-soft-check",for:`price-${c.value}`},b(c.label),9,tt)]))),128))])]),_:1}),t(p,{"no-body":"",class:"card-body shadow p-4 mb-4"},{default:o(()=>[at,e("ul",lt,[(i(!0),u(x,null,P(k.value,c=>(i(),u("li",{class:"list-inline-item mb-2",key:c.value},[F(e("input",{type:"radio",class:"btn-check",id:`level-${c.value}`,value:c.value,"onUpdate:modelValue":f[3]||(f[3]=L=>h.value=L),name:"level"},null,8,st),[[S,h.value]]),e("label",{class:"btn btn-light btn-primary-soft-check",for:`level-${c.value}`},b(c.label),9,nt)]))),128))])]),_:1}),t(p,{"no-body":"",class:"card-body shadow p-4 mb-4"},{default:o(()=>[ot,e("ul",it,[(i(!0),u(x,null,P($.value,c=>(i(),u("li",{class:"list-inline-item mb-2",key:c.value},[F(e("input",{type:"radio",class:"btn-check",id:`language-${c.value}`,value:c.value,"onUpdate:modelValue":f[4]||(f[4]=L=>n.value=L),name:"language"},null,8,rt),[[S,n.value]]),e("label",{class:"btn btn-light btn-primary-soft-check",for:`language-${c.value}`},b(c.label),9,ct)]))),128))])]),_:1}),t(G,{type:"submit",variant:"primary",class:"w-100"},{default:o(()=>[V("Apply Filters")]),_:1})]),_:1})}}}),dt={class:"py-5"},mt={class:"input-group input-borderless"},ft=["value"],bt=["value"],_t={key:0,class:"mb-0 text-end"},pt={key:1,class:"mb-0 text-end"},vt=e("p",null,"No courses found",-1),gt={class:"mt-4 d-flex justify-content-center","aria-label":"navigation"},ht={class:"pagination pagination-primary-soft d-inline-block d-md-flex rounded mb-0"},yt={class:"page-item mb-0"},$t=["onClick"],kt={class:"page-item mb-0"},wt=B({__name:"PageContent",props:{coursesList:{type:Array,required:!0,default:()=>[]},loading:{type:Boolean,required:!0},searchQuery:{type:String,required:!0},sortValue:{type:String,required:!0},currentPage:{type:Number,required:!0},itemsPerPage:{type:Number,required:!0},offcanvas:{type:Boolean,required:!0},filters:{type:Object,required:!0},sortOptions:{type:Array,required:!0}},emits:["apply-filters","update:offcanvas","update:searchQuery","update:sortValue","update:currentPage"],setup(l){const s=l;z(()=>{console.log("PageContent props:",{coursesList:s.coursesList,loading:s.loading,searchQuery:s.searchQuery,sortValue:s.sortValue,currentPage:s.currentPage,itemsPerPage:s.itemsPerPage,offcanvas:s.offcanvas,filters:s.filters,sortOptions:s.sortOptions})});const y=j(()=>s.coursesList?Math.ceil(s.coursesList.length/s.itemsPerPage):1),h=j(()=>{if(!s.coursesList)return[];let n=[...s.coursesList].map(a=>{var m,k;return{...a,image:a.cover||"",instructor:a.instructor,price:parseFloat(a.price)||0,final_price:parseFloat(a.final_price)||parseFloat(a.price)||0,discount_percentage:parseFloat(a.discount_percentage)||0,is_featured:a.is_featured||!1,total_modules:a.total_modules||10,total_videos:a.total_videos||10,tags:a.tags||[],rating:parseFloat(a.rating)||4.5,duration:a.duration||`${a.total_videos||10}h 0m`,lectures:a.total_modules||10,category:((m=a.tags)==null?void 0:m.length)>0?a.tags[0]:"general",level:a.level||"beginner",language:a.language||"english",badge:a.is_featured?{class:"success",text:"Featured"}:((k=a.tags)==null?void 0:k.length)>0?{class:"primary",text:a.tags[0]}:{class:"info",text:"General"},isLike:!1}});switch(s.searchQuery&&(n=n.filter(a=>a.title.toLowerCase().includes(s.searchQuery.toLowerCase()))),s.filters.category&&(n=n.filter(a=>a.category===s.filters.category)),s.filters.level&&(n=n.filter(a=>a.level===s.filters.level)),s.filters.price&&(n=n.filter(a=>s.filters.price==="free"?a.price===0:s.filters.price==="paid"?a.price>0:!0)),s.filters.language&&(n=n.filter(a=>a.language===s.filters.language)),s.sortValue){case"newest":n.sort((a,m)=>new Date(m.created_at)-new Date(a.created_at));break;case"oldest":n.sort((a,m)=>new Date(a.created_at)-new Date(m.created_at));break}const d=(s.currentPage-1)*s.itemsPerPage;return n.slice(d,d+s.itemsPerPage)});return(n,d)=>{const a=te,m=D,k=ae,$=Q("font-awesome-icon"),C=M,w=H,f=I,p=le,v=T;return i(),u("section",dt,[t(v,null,{default:o(()=>[t(f,null,{default:o(()=>[t(m,{lg:"4",xl:"3",class:O(["d-lg-block",{"d-none":!l.offcanvas}])},{default:o(()=>[t(a,{value:l.offcanvas,"onUpdate:value":d[1]||(d[1]=r=>n.$emit("update:offcanvas",r)),placement:"end",class:"w-auto",backdrop:!0,"no-header-close":!0,"no-close-on-esc":!0,"no-close-on-backdrop":!0,title:"Filters",responsive:"lg"},{default:o(()=>[t(ut,{onFilterApplied:d[0]||(d[0]=r=>n.$emit("apply-filters",r))})]),_:1},8,["value"])]),_:1},8,["class"]),t(m,{lg:"8",xl:"9"},{default:o(()=>[t(f,{class:"mb-4 align-items-center"},{default:o(()=>[t(m,{xl:"6"},{default:o(()=>[t(w,{class:"border rounded p-2"},{default:o(()=>[e("div",mt,[t(k,{type:"search",class:"me-1",placeholder:"Find your course",value:l.searchQuery,onInput:d[2]||(d[2]=r=>n.$emit("update:searchQuery",r))},null,8,["value"]),t(C,{type:"button",variant:"primary",class:"mb-0 rounded z-index-1"},{default:o(()=>[t($,{icon:g(fe)},null,8,["icon"])]),_:1})])]),_:1})]),_:1}),t(m,{xl:"3",class:"mt-3 mt-xl-0"},{default:o(()=>[t(w,{class:"border rounded p-2 input-borderless"},{default:o(()=>[e("select",{value:l.sortValue,onInput:d[3]||(d[3]=r=>n.$emit("update:sortValue",r.target.value)),class:"form-select-sm border-0"},[(i(!0),u(x,null,P(l.sortOptions,r=>(i(),u("option",{key:r.value,value:r.value},b(r.label),9,bt))),128))],40,ft)]),_:1})]),_:1}),t(m,{cols:"12",xl:"3",class:"d-flex justify-content-between align-items-center mt-3 mt-xl-0"},{default:o(()=>[t(C,{variant:"primary",class:"mb-0 d-lg-none",type:"button",onClick:d[4]||(d[4]=r=>n.$emit("update:offcanvas",!l.offcanvas))},{default:o(()=>[t($,{icon:g(be),class:"me-1"},null,8,["icon"]),V(" Show filter ")]),_:1}),l.coursesList?(i(),u("p",_t," Showing "+b(h.value.length)+" of "+b(l.coursesList.length)+" results ",1)):(i(),u("p",pt," No courses available "))]),_:1})]),_:1}),l.loading?(i(),A(f,{key:0,class:"g-4"},{default:o(()=>[t(m,{cols:"12",class:"text-center"},{default:o(()=>[t(p,{variant:"primary"})]),_:1})]),_:1})):l.coursesList&&l.coursesList.length?(i(),A(f,{key:1,class:"g-4"},{default:o(()=>[(i(!0),u(x,null,P(h.value,(r,q)=>(i(),A(m,{sm:"6",xl:"4",key:q},{default:o(()=>[t(Be,{item:r},null,8,["item"])]),_:2},1024))),128))]),_:1})):(i(),A(f,{key:2,class:"g-4"},{default:o(()=>[t(m,{cols:"12",class:"text-center"},{default:o(()=>[vt]),_:1})]),_:1})),l.coursesList&&l.coursesList.length?(i(),A(m,{key:3,cols:"12"},{default:o(()=>[e("nav",gt,[e("ul",ht,[e("li",yt,[e("a",{class:O(["page-link",{disabled:l.currentPage===1}]),href:"#",onClick:d[5]||(d[5]=N(r=>n.$emit("update:currentPage",l.currentPage-1),["prevent"]))},[t($,{icon:g(_e)},null,8,["icon"])],2)]),(i(!0),u(x,null,P(y.value,r=>(i(),u("li",{class:O(["page-item mb-0",{active:r===l.currentPage}]),key:r},[e("a",{class:"page-link",href:"#",onClick:N(q=>n.$emit("update:currentPage",r),["prevent"])},b(r),9,$t)],2))),128)),e("li",kt,[e("a",{class:O(["page-link",{disabled:l.currentPage===y.value}]),href:"#",onClick:d[6]||(d[6]=N(r=>n.$emit("update:currentPage",l.currentPage+1),["prevent"]))},[t($,{icon:g(pe)},null,8,["icon"])],2)])])])]),_:1})):U("",!0)]),_:1})]),_:1})]),_:1})])}}}),xt=e("h1",{class:"text-white"},"All Courses",-1),Pt={class:"d-flex justify-content-center"},Ct={"aria-label":"breadcrumb"},Lt={class:"breadcrumb breadcrumb-dark breadcrumb-dots mb-0"},At={class:"breadcrumb-item"},Vt=e("li",{class:"breadcrumb-item active","aria-current":"page"},"Courses",-1),Ft=B({__name:"PageBanner",setup(l){return(s,y)=>{const h=Q("router-link"),n=D,d=I,a=T;return i(),u("section",{class:"bg-blue align-items-center d-flex",style:se(`background:url(${g($e)}) no-repeat center center; background-size:cover;`)},[t(a,null,{default:o(()=>[t(d,null,{default:o(()=>[t(n,{cols:"12",class:"text-center"},{default:o(()=>[xt,e("div",Pt,[e("nav",Ct,[e("ol",Lt,[e("li",At,[t(h,{to:"/"},{default:o(()=>[V("Home")]),_:1})]),Vt])])])]),_:1})]),_:1})]),_:1})],4)}}}),Kt={__name:"index",setup(l){const s=ne.useToast(),y=_([]),h=_(!1),n=_(""),d=_(""),a=_(1),m=_(10),k=_(!1),$=_({}),C=_([{value:"",label:"Sort by"},{value:"newest",label:"Newest"},{value:"oldest",label:"Oldest"}]),w=async()=>{try{h.value=!0;const p=await oe.get("course/courses/",{params:$.value});y.value=p.data||[]}catch(p){console.error("Failed to fetch courses:",p),s.error("Failed to fetch courses"),y.value=[]}finally{h.value=!1}},f=p=>{$.value=p,a.value=1,w()};return z(()=>{w()}),(p,v)=>(i(),A(Y,null,{default:o(()=>[t(Ft),t(wt,{coursesList:y.value,loading:h.value,searchQuery:n.value,"onUpdate:searchQuery":v[0]||(v[0]=r=>n.value=r),sortValue:d.value,"onUpdate:sortValue":v[1]||(v[1]=r=>d.value=r),currentPage:a.value,"onUpdate:currentPage":v[2]||(v[2]=r=>a.value=r),itemsPerPage:m.value,offcanvas:k.value,"onUpdate:offcanvas":v[3]||(v[3]=r=>k.value=r),filters:$.value,sortOptions:C.value,onApplyFilters:f},null,8,["coursesList","loading","searchQuery","sortValue","currentPage","itemsPerPage","offcanvas","filters","sortOptions"])]),_:1}))}};export{Kt as default};
