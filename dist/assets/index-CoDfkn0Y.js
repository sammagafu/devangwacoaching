import{d as H,u as W,bO as X,E as J,J as O,A as p,q as C,c as Q,w as n,o as r,b as t,$ as G,H as K,a as e,r as Z,f as c,X as ee,V as te,t as u,W as se,i as _,x as oe,Y as ae,e as le,F as B,m as z,n as S,D as j,a2 as ne,a3 as ce,L as re,g as A,cd as ie,ce as de,cf as ue}from"./index-BKxaJmes.js";import{_ as _e}from"./ChoicesSelect.vue_vue_type_script_setup_true_lang-B5ypeToF.js";import{_ as N}from"./index.es-CO4VM-W1.js";import{_ as me}from"./StudentLayout.vue_vue_type_script_setup_true_lang-CbXq5A_q.js";import{aA as pe,aD as fe,aE as he,f as be,V as ve,N as ge}from"./index-DdoyQ2gK.js";import"./menu-items-CfbG37ai.js";import"./index-DwNiKAmd.js";import"./TopBar8.vue_vue_type_script_setup_true_lang-D157KbNp.js";import"./LogoBox.vue_vue_type_script_setup_true_lang-DtsTVlc2.js";import"./StickyHeader.vue_vue_type_script_setup_true_lang-Bd8hrDfw.js";import"./ProfileDropdown.vue_vue_type_script_setup_true_lang-DwdOghs1.js";import"./DropDown.vue_vue_type_script_setup_true_lang-DCXrtorV.js";import"./change-casing-BoyW-fpY.js";import"./01-DeMBLNXD.js";import"./MobileNavbarToggler-CAzdXCW6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ShopCart.vue_vue_type_script_setup_true_lang-Dp2SNiK4.js";import"./02-CA1hCPq5.js";import"./04-D66rD-0h.js";import"./Footer7.vue_vue_type_script_setup_true_lang-CgPe67WN.js";import"./constants-Bu7G09dq.js";import"./index-DP6gMcTi.js";import"./logo-light-sT18Thxh.js";import"./04-DIykCGoU.js";import"./09-BzxBVZmI.js";const ye={class:"d-flex justify-content-center align-items-center p-4 bg-orange bg-opacity-15 rounded-3"},we={class:"display-6 lh-1 text-orange mb-0"},xe={class:"ms-4"},Ce={class:"d-flex"},ke=e("p",{class:"mb-0 h6 fw-light"},"Total Courses",-1),Ve={class:"d-flex justify-content-center align-items-center p-4 bg-purple bg-opacity-15 rounded-3"},Me={class:"display-6 lh-1 text-purple mb-0"},Le={class:"ms-4"},Be={class:"d-flex"},Se=e("p",{class:"mb-0 h6 fw-light"},"Complete Lessons",-1),je={class:"d-flex justify-content-center align-items-center p-4 bg-success bg-opacity-10 rounded-3"},Ae={class:"display-6 lh-1 text-success mb-0"},Ne={class:"ms-4"},Te={class:"d-flex"},$e=e("p",{class:"mb-0 h6 fw-light"},"Achieved Certificates",-1),ze={class:"mb-0"},Fe={class:"bg-transparent p-2 position-absolute top-50 end-0 translate-middle-y border-0 text-primary-hover text-reset",type:"submit"},De=e("option",{value:""},"Sort by",-1),Pe=e("option",{value:"Free"},"Free",-1),Ee=e("option",{value:"Newest"},"Newest",-1),Re=e("option",{value:"Most popular"},"Most popular",-1),Ye=e("option",{value:"Most Viewed"},"Most Viewed",-1),qe={key:0,class:"text-center py-4"},Ie=e("p",{class:"text-muted"},"You are not enrolled in any courses yet.",-1),Ue=e("a",{href:"/courses",class:"btn btn-primary"},"Explore Courses",-1),He=[Ie,Ue],We={key:1,class:"table-responsive border-0"},Xe={class:"table table-dark-gray align-middle p-4 mb-0 table-hover"},Je=e("thead",null,[e("tr",null,[e("th",{scope:"col",class:"border-0 rounded-start"},"Course Title"),e("th",{scope:"col",class:"border-0"},"Total Lectures"),e("th",{scope:"col",class:"border-0"},"Completed Lecture"),e("th",{scope:"col",class:"border-0 rounded-end"},"Action")])],-1),Oe={class:"d-flex align-items-center"},Qe={class:"w-100px"},Ge=["src"],Ke={class:"mb-0 ms-2"},Ze={href:"#"},et={class:"overflow-hidden"},tt={class:"mb-0 text-end"},st={href:"#",class:"btn btn-sm btn-light me-1 icons-center"},ot={key:1,href:"#",class:"btn btn-sm btn-primary-soft me-1 mb-1 mb-md-0 icons-center"},at={key:2,class:"d-sm-flex justify-content-sm-between align-items-sm-center mt-4 mt-sm-3"},lt={class:"mb-0 text-center text-sm-start"},nt={class:"d-flex justify-content-center mb-0","aria-label":"navigation"},ct={class:"pagination pagination-sm pagination-primary-soft d-inline-block d-md-flex rounded mb-0"},rt=["onClick"],zt=H({__name:"index",setup(it){const k=W(),{user:V}=X(k);J(async()=>{try{const a=await O.get("auth/users/me/");k.updateUser(a.data)}catch(a){console.error("Failed to fetch user data:",a)}});const M=p(()=>{var a,o;return(o=(a=V.value)==null?void 0:a.enrollments)!=null&&o.length?V.value.enrollments.map(s=>({image:s.course.cover||"/path/to/default-image.jpg",title:s.course.title,progress:s.completion_percentage,lectures:(s.course.total_videos||0)+(s.course.total_documents||0)+(s.course.total_quizzes||0),completed:Math.round(s.completion_percentage/100*((s.course.total_videos||0)+(s.course.total_documents||0)+(s.course.total_quizzes||0))),enrolled_at:s.enrolled_at})):[]}),F=p(()=>M.value.length),D=p(()=>M.value.reduce((a,o)=>a+o.completed,0)),P=p(()=>{var a,o;return((o=(a=V.value)==null?void 0:a.enrollments)==null?void 0:o.filter(s=>s.certificate_issued).length)||0}),g=C(""),m=C(""),f=p(()=>{let a=[...M.value];return g.value&&(a=a.filter(o=>o.title.toLowerCase().includes(g.value.toLowerCase()))),m.value&&a.sort((o,s)=>{var d,b,y,w,v,x;return m.value==="Free"?(((d=o.course)==null?void 0:d.price)||0)-(((b=s.course)==null?void 0:b.price)||0):m.value==="Newest"?new Date(s.enrolled_at).getTime()-new Date(o.enrolled_at).getTime():m.value==="Most popular"?(((y=s.course)==null?void 0:y.enrollment_count)||0)-(((w=o.course)==null?void 0:w.enrollment_count)||0):m.value==="Most Viewed"?(((v=s.course)==null?void 0:v.view_count)||0)-(((x=o.course)==null?void 0:x.view_count)||0):0}),a}),i=C(1),h=C(8),T=p(()=>Math.ceil(f.value.length/h.value)),E=p(()=>{const a=(i.value-1)*h.value;return f.value.slice(a,a+h.value)}),L=a=>Math.round(a);return(a,o)=>{const s=Z("font-awesome-icon"),d=K,b=G,y=te,w=le,v=ae,x=_e,R=ce,Y=ne,q=re,I=se,U=ee;return r(),Q(me,null,{default:n(()=>[t(d,{xl:"9"},{default:n(()=>[t(b,{class:"mb-4"},{default:n(()=>[t(d,{sm:"6",lg:"4",class:"mb-3 mb-lg-0"},{default:n(()=>[e("div",ye,[e("span",we,[t(s,{icon:c(pe),class:"fa-fw"},null,8,["icon"])]),e("div",xe,[e("div",Ce,[t(c(N),{from:0,to:F.value,duration:3,format:L,delay:.5,class:"purecounter mb-0 fw-bold h5"},null,8,["to"])]),ke])])]),_:1}),t(d,{sm:"6",lg:"4",class:"mb-3 mb-lg-0"},{default:n(()=>[e("div",Ve,[e("span",Me,[t(s,{icon:c(fe),class:"fa-fw"},null,8,["icon"])]),e("div",Le,[e("div",Be,[t(c(N),{from:0,to:D.value,duration:3,format:L,delay:.5,class:"purecounter mb-0 fw-bold h5"},null,8,["to"])]),Se])])]),_:1}),t(d,{sm:"6",lg:"4",class:"mb-3 mb-lg-0"},{default:n(()=>[e("div",je,[e("span",Ae,[t(s,{icon:c(he),class:"fa-fw"},null,8,["icon"])]),e("div",Ne,[e("div",Te,[t(c(N),{from:0,to:P.value,duration:3,format:L,delay:.5,class:"purecounter mb-0 fw-bold h5"},null,8,["to"])]),$e])])]),_:1})]),_:1}),t(U,{"no-body":"",class:"bg-transparent border rounded-3"},{default:n(()=>[t(y,{class:"bg-transparent border-bottom"},{default:n(()=>{var l;return[e("h3",ze,u(((l=c(k).user)==null?void 0:l.full_name)??"Student")+"'s Courses List",1)]}),_:1}),t(I,null,{default:n(()=>[t(b,{class:"g-3 align-items-center justify-content-between mb-4"},{default:n(()=>[t(d,{md:"8"},{default:n(()=>[t(v,{class:"rounded position-relative"},{default:n(()=>[t(w,{class:"pe-5 bg-transparent",type:"search",placeholder:"Search",modelValue:g.value,"onUpdate:modelValue":o[0]||(o[0]=l=>g.value=l)},null,8,["modelValue"]),e("button",Fe,[t(s,{icon:c(be),class:"fs-6"},null,8,["icon"])])]),_:1})]),_:1}),t(d,{md:"3"},{default:n(()=>[t(v,null,{default:n(()=>[t(x,{id:"sort-by",class:"border-0 z-index-9 bg-transparent",modelValue:m.value,"onUpdate:modelValue":o[1]||(o[1]=l=>m.value=l)},{default:n(()=>[De,Pe,Ee,Re,Ye]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),f.value.length===0?(r(),_("div",qe,He)):(r(),_("div",We,[e("table",Xe,[Je,e("tbody",null,[(r(!0),_(B,null,z(E.value,(l,$)=>(r(),_("tr",{key:$},[e("td",null,[e("div",Oe,[e("div",Qe,[e("img",{src:l.image,class:"rounded",alt:""},null,8,Ge)]),e("div",Ke,[e("h6",null,[e("a",Ze,u(l.title),1)]),e("div",et,[e("h6",tt,u(l.progress)+"%",1),t(Y,{class:"progress-sm bg-primary bg-opacity-10"},{default:n(()=>[t(R,{class:"bg-primary aos",value:l.progress},null,8,["value"])]),_:2},1024)])])])]),e("td",null,u(l.lectures),1),e("td",null,u(l.completed),1),e("td",null,[l.progress===100?(r(),_(B,{key:0},[t(q,{variant:"success",size:"sm",class:"me-1 mb-1 mb-xl-0 disabled icons-center"},{default:n(()=>[t(c(ie),{class:"me-1"}),A(" Complete ")]),_:1}),e("a",st,[t(c(de),{class:"me-1"}),A(" Restart ")])],64)):(r(),_("a",ot,[t(c(ue),{class:"me-1"}),A(" Continue ")]))])]))),128))])])])),f.value.length>0?(r(),_("div",at,[e("p",lt,"Showing "+u((i.value-1)*h.value+1)+" to "+u(Math.min(i.value*h.value,f.value.length))+" of "+u(f.value.length)+" entries",1),e("nav",nt,[e("ul",ct,[e("li",{class:S(["page-item mb-0",{disabled:i.value===1}])},[e("a",{class:"page-link",href:"#",onClick:o[2]||(o[2]=j(l=>i.value--,["prevent"])),tabindex:"-1"},[t(s,{icon:c(ve)},null,8,["icon"])])],2),(r(!0),_(B,null,z(T.value,l=>(r(),_("li",{key:l,class:S(["page-item mb-0",{active:i.value===l}])},[e("a",{class:"page-link",href:"#",onClick:j($=>i.value=l,["prevent"])},u(l),9,rt)],2))),128)),e("li",{class:S(["page-item mb-0",{disabled:i.value===T.value}])},[e("a",{class:"page-link",href:"#",onClick:o[3]||(o[3]=j(l=>i.value++,["prevent"]))},[t(s,{icon:c(ge)},null,8,["icon"])])],2)])])])):oe("",!0)]),_:1})]),_:1})]),_:1})]),_:1})}}});export{zt as default};
