import{d as k,y as C,q as S,E as T,J as E,c as f,o as a,$ as U,w as e,b as t,H as w,X as j,a as s,t as _,f as b,bL as A,bg as H,bM as M,bN as W,V,W as L,i as r,x as y,m as B,F as x,n as F,r as I,g as q,k as z,U as R,s as X,u as J}from"./index-BKxaJmes.js";import{P as G,_ as K}from"./AdminLayout.vue_vue_type_script_setup_true_lang-C2I9QJJr.js";import{_ as P}from"./ApexChart.vue_vue_type_script_setup_true_lang-DJPhOIZy.js";import{n as O,d as Q,q as Y}from"./index-DdoyQ2gK.js";import"./DropDown.vue_vue_type_script_setup_true_lang-DCXrtorV.js";import"./ProfileDropdown.vue_vue_type_script_setup_true_lang-DwdOghs1.js";import"./change-casing-BoyW-fpY.js";import"./01-DeMBLNXD.js";import"./MobileNavbarToggler-CAzdXCW6.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./MenuItemWithChildren.vue_vue_type_script_setup_true_lang-BcgdXxdP.js";import"./getActiveClass-BJHf-Sl9.js";import"./menu-items-CfbG37ai.js";import"./index-DwNiKAmd.js";import"./logo-light-sT18Thxh.js";import"./08-DzHvQlEd.js";import"./02-u1oGLGhS.js";import"./05-BauEG9gJ.js";import"./03-6nKUgUxe.js";const Z={class:"d-flex justify-content-between align-items-center"},ss={class:"purecounter mb-0 fw-bold h2"},ts=s("br",null,null,-1),es=s("span",{class:"mb-0 h6 fw-light"},"Completed Courses",-1),os={class:"icon-lg rounded-circle bg-warning text-white mb-0"},as={class:"d-flex justify-content-between align-items-center"},ns={class:"purecounter mb-0 fw-bold h2"},cs=s("br",null,null,-1),rs=s("span",{class:"mb-0 h6 fw-light"},"Enrolled Users",-1),ls={class:"icon-lg rounded-circle bg-purple text-white mb-0"},is={class:"d-flex justify-content-between align-items-center"},_s={class:"purecounter mb-0 fw-bold h2"},ds=s("br",null,null,-1),us=s("span",{class:"mb-0 h6 fw-light"},"Courses In Progress",-1),hs={class:"icon-lg rounded-circle bg-primary text-white mb-0"},ms={class:"d-flex justify-content-between align-items-center"},ps={class:"purecounter mb-0 fw-bold h2"},bs=s("br",null,null,-1),fs=s("span",{class:"mb-0 h6 fw-light"},"Active Users",-1),gs={class:"icon-lg rounded-circle bg-success text-white mb-0 flex-centered"},vs=k({__name:"Counter",setup($){const h=C.useToast(),o=S({completed_courses:0,enrolled_users:0,courses_in_progress:0,active_users:0});return T(async()=>{try{const n=await E.get("dashboard/stats/");o.value=n.data}catch(n){console.error("Error fetching stats:",n),h.error("Failed to load stats")}}),(n,d)=>{const c=j,l=w,u=U;return a(),f(u,{class:"g-4 mb-4"},{default:e(()=>[t(l,{md:"6",xxl:"3"},{default:e(()=>[t(c,{"no-body":"",class:"card-body bg-warning bg-opacity-15 p-4 h-100"},{default:e(()=>[s("div",Z,[s("div",null,[s("span",ss,_(o.value.completed_courses),1),ts,es]),s("div",os,[t(b(A),{class:"fa-fw"})])])]),_:1})]),_:1}),t(l,{md:"6",xxl:"3"},{default:e(()=>[t(c,{"no-body":"",class:"card-body bg-purple bg-opacity-10 p-4 h-100"},{default:e(()=>[s("div",as,[s("div",null,[s("span",ns,_(o.value.enrolled_users),1),cs,rs]),s("div",ls,[t(b(H),{class:"fa-fw"})])])]),_:1})]),_:1}),t(l,{md:"6",xxl:"3"},{default:e(()=>[t(c,{"no-body":"",class:"card-body bg-primary bg-opacity-10 p-4 h-100"},{default:e(()=>[s("div",is,[s("div",null,[s("span",_s,_(o.value.courses_in_progress),1),ds,us]),s("div",hs,[t(b(M),{class:"fa-fw"})])])]),_:1})]),_:1}),t(l,{md:"6",xxl:"3"},{default:e(()=>[t(c,{"no-body":"",class:"card-body bg-success bg-opacity-10 p-4 h-100"},{default:e(()=>[s("div",ms,[s("div",null,[s("span",ps,_(o.value.active_users),1),bs,fs]),s("div",gs,[t(b(W),{class:"fa-fw"})])])]),_:1})]),_:1})]),_:1})}}}),ys=s("h5",{class:"card-header-title"},"Earnings",-1),xs={key:1,class:"text-center"},ws=k({__name:"EarningsChart",setup($){const h=C.useToast(),o=S(null);return T(async()=>{try{const n=await E.get("/dashboard/payments/earnings/chart/");o.value={type:"line",height:300,series:n.data.series,options:{chart:{toolbar:{show:!1}},xaxis:{categories:n.data.categories},stroke:{curve:"smooth"},dataLabels:{enabled:!1},colors:["#0d6efd"]}}}catch(n){console.error("Error fetching earnings:",n),h.error("Failed to load earnings chart")}}),(n,d)=>{const c=V,l=P,u=L,g=j,v=w;return a(),f(v,{xxl:"8"},{default:e(()=>[t(g,{"no-body":"",class:"shadow h-100"},{default:e(()=>[t(c,{class:"p-4 border-bottom"},{default:e(()=>[ys]),_:1}),t(u,null,{default:e(()=>[o.value?(a(),f(l,{key:0,chart:o.value,class:"apex-charts",id:"ChartPayout"},null,8,["chart"])):(a(),r("div",xs,"Loading earnings..."))]),_:1})]),_:1})]),_:1})}}}),$s=s("h5",{class:"card-header-title"},"Support Requests",-1),ks=s("a",{href:"#",class:"btn btn-link p-0 mb-0"},"View all",-1),Cs={class:"d-sm-flex"},Ss={class:"avatar avatar-md flex-shrink-0"},Ts=["src"],Es={class:"ms-0 ms-sm-2 mt-2 mt-sm-0"},js={class:"mb-0"},Bs={href:"#",class:"stretched-link"},Vs=["innerHTML"],Ls={class:"small"},Ns={key:1,class:"text-center"},qs=k({__name:"SupportRequests",setup($){const h=C.useToast(),o=S([]),n=c=>new Date(c).toLocaleString("en-US",{dateStyle:"short",timeStyle:"short"}),d=c=>c.split(" ").map(u=>u[0]).join("").toUpperCase().slice(0,2);return T(async()=>{try{const c=await E.get("dashboard/stats/");o.value=c.data.support_requests||[]}catch(c){console.error("Error fetching support requests:",c),h.error("Failed to load support requests")}}),(c,l)=>{const u=V,g=L,v=j,m=w;return a(),f(m,{xxl:"4"},{default:e(()=>[t(v,{"no-body":"",class:"shadow h-100"},{default:e(()=>[t(u,{class:"border-bottom d-flex justify-content-between align-items-center p-4"},{default:e(()=>[$s,ks]),_:1}),t(g,{class:"p-4"},{default:e(()=>[(a(!0),r(x,null,B(o.value,(i,p)=>(a(),r("div",{key:i.id,class:"d-flex justify-content-between position-relative"},[s("div",Cs,[s("div",Ss,[i.image?(a(),r("img",{key:0,class:"avatar-img rounded-circle",src:i.image,alt:"avatar"},null,8,Ts)):(a(),r("div",{key:1,class:F(`avatar-img rounded-circle bg-${i.icon_color||"secondary"} bg-opacity-10`)},[s("span",{class:F(`text-${i.icon_color||"secondary"} position-absolute top-50 start-50 translate-middle fw-bold`)},_(d(i.name)),3)],2))]),s("div",Es,[s("h6",js,[s("a",Bs,_(i.name),1)]),s("p",{class:"mb-0",innerHTML:i.description},null,8,Vs),s("span",Ls,_(n(i.time)),1)])])]))),128)),c.index<o.value.length-1?(a(!0),r(x,{key:0},B(o.value,(i,p)=>(a(),r("hr",{key:`hr-${i.id}`}))),128)):y("",!0),o.value.length?y("",!0):(a(),r("div",Ns,"No support requests available"))]),_:1})]),_:1})]),_:1})}}}),Fs=s("h5",{class:"card-header-title"},"Top Instructors",-1),Is=s("a",{href:"#",class:"btn btn-link p-0 mb-0"},"View all",-1),Ds={key:0},Us={class:"d-sm-flex justify-content-between align-items-center"},Ps={class:"d-sm-flex align-items-center mb-1 mb-sm-0"},As={class:"avatar avatar-md flex-shrink-0"},Hs=["src"],Ms={class:"ms-0 ms-sm-2 mt-2 mt-sm-0"},Ws={class:"mb-1 flex-centered"},zs={class:"list-inline mb-0 small"},Rs={class:"list-inline-item fw-light me-2 mb-1 mb-sm-0"},Xs={class:"list-inline-item fw-light me-2 mb-1 mb-sm-0"},Js=s("a",{href:"#",class:"btn btn-sm btn-light mb-0"},"View",-1),Gs={key:0,class:"text-center"},Ks=k({__name:"TopInstructors",setup($){const h=C.useToast(),o=S([]);return T(async()=>{try{const n=await E.get("dashboard/top-instructors/");o.value=n.data}catch(n){console.error("Error fetching top instructors:",n),h.error("Failed to load top instructors")}}),(n,d)=>{const c=V,l=I("font-awesome-icon"),u=L,g=j,v=w;return a(),f(v,{lg:"6",xxl:"4"},{default:e(()=>[t(g,{"no-body":"",class:"shadow h-100"},{default:e(()=>[t(c,{class:"border-bottom d-flex justify-content-between align-items-center p-4"},{default:e(()=>[Fs,Is]),_:1}),t(u,{class:"p-4"},{default:e(()=>[(a(!0),r(x,null,B(o.value,(m,i)=>(a(),r(x,{key:m.id},[i?(a(),r("hr",Ds)):y("",!0),s("div",Us,[s("div",Ps,[s("div",As,[s("img",{class:"avatar-img rounded-circle",src:m.image,alt:"avatar"},null,8,Hs)]),s("div",Ms,[s("h6",Ws,[q(_(m.name)+" ",1),m.verified?(a(),f(b(z),{key:0,class:"text-info small"})):y("",!0)]),s("ul",zs,[s("li",Rs,[t(l,{icon:b(O),class:"text-purple"},null,8,["icon"]),q(" "+_(m.courses)+" Courses ",1)]),s("li",Xs,[t(l,{icon:b(Q),class:"text-warning"},null,8,["icon"]),q(" "+_(m.rating)+"/5.0 ",1)])])])]),Js])],64))),128)),o.value.length?y("",!0):(a(),r("div",Gs,"No instructors available"))]),_:1})]),_:1})]),_:1})}}}),Os=s("h5",{class:"card-header-title"},"Event Notices",-1),Qs={key:0},Ys={class:"d-flex justify-content-between position-relative"},Zs={class:"d-sm-flex"},st={class:"ms-0 ms-sm-3 mt-2 mt-sm-0"},tt={class:"mb-0"},et={href:"#",class:"stretched-link"},ot={class:"mb-0"},at={class:"small"},nt={key:0,class:"text-center"},ct={class:"alert alert-success d-flex align-items-center mb-0 py-2"},rt={class:"mb-0"},lt=s("div",{class:"ms-auto"},[s("a",{class:"btn btn-sm btn-success-soft mb-0",href:"#!"},"View all")],-1),it=k({__name:"NoticeBoard",setup($){const h=C.useToast(),o=S([]),n=d=>new Date(d).toLocaleString("en-US",{dateStyle:"short",timeStyle:"short"});return T(async()=>{try{const d=await E.get("dashboard/event-stats/");o.value=d.data}catch(d){console.error("Error fetching event stats:",d),h.error("Failed to load event notices")}}),(d,c)=>{const l=V,u=I("font-awesome-icon"),g=L,v=R,m=j,i=w;return a(),f(i,{lg:"6",xxl:"4"},{default:e(()=>[t(m,{"no-body":"",class:"shadow h-100"},{default:e(()=>[t(l,{class:"border-bottom p-4"},{default:e(()=>[Os]),_:1}),t(g,{class:"p-4"},{default:e(()=>[t(b(G),{defer:"",class:"custom-scrollbar h-300px"},{default:e(()=>[(a(!0),r(x,null,B(o.value,(p,N)=>(a(),r(x,{key:p.id},[N?(a(),r("hr",Qs)):y("",!0),s("div",Ys,[s("div",Zs,[s("div",{class:F(`icon-lg bg-${p.icon_color} bg-opacity-10 text-${p.icon_color} rounded-2 flex-shrink-0`)},[t(u,{icon:["fas",p.icon],class:"fs-5"},null,8,["icon"])],2),s("div",st,[s("h6",tt,[s("a",et,_(p.title),1)]),s("p",ot,_(p.description),1),s("span",at,_(n(p.time)),1)])])])],64))),128)),o.value.length?y("",!0):(a(),r("div",nt,"No event notices available"))]),_:1})]),_:1}),t(v,{class:"border-top"},{default:e(()=>[s("div",ct,[s("div",null,[s("small",rt,_(o.value.length)+" events listed",1)]),lt])]),_:1})]),_:1})]),_:1})}}}),_t=s("h5",{class:"card-header-title"},"Traffic Sources",-1),dt=s("a",{href:"#",class:"btn btn-link p-0 mb-0"},"View all",-1),ut={key:1,class:"text-center"},ht={class:"list-group list-group-borderless mt-3"},mt=k({__name:"TrafficSourcesChart",setup($){const h=C.useToast(),o=S(null);return T(async()=>{try{const n=await E.get("dashboard/traffic-sources/");o.value={type:"donut",height:200,series:n.data.series,options:{labels:n.data.labels,colors:n.data.colors,chart:{toolbar:{show:!1}},legend:{show:!1},dataLabels:{enabled:!1}}}}catch(n){console.error("Error fetching traffic sources:",n),h.error("Failed to load traffic sources")}}),(n,d)=>{const c=V,l=P,u=w,g=I("font-awesome-icon"),v=L,m=j;return a(),f(u,{lg:"6",xxl:"4"},{default:e(()=>[t(m,{"no-body":"",class:"shadow h-100"},{default:e(()=>[t(c,{class:"border-bottom d-flex justify-content-between align-items-center p-4"},{default:e(()=>[_t,dt]),_:1}),t(v,{class:"p-4"},{default:e(()=>{var i;return[t(u,{sm:"6",class:"mx-auto"},{default:e(()=>[o.value?(a(),f(l,{key:0,chart:o.value,class:"apex-charts",id:"ChartTrafficViews"},null,8,["chart"])):(a(),r("div",ut,"Loading traffic data..."))]),_:1}),s("ul",ht,[(a(!0),r(x,null,B((i=o.value)==null?void 0:i.options.labels,(p,N)=>{var D;return a(),r("li",{key:N,class:"list-group-item"},[t(g,{icon:b(Y),style:X({color:(D=o.value)==null?void 0:D.options.colors[N]}),class:"me-1"},null,8,["icon","style"]),q(" "+_(p),1)])}),128))])]}),_:1})]),_:1})]),_:1})}}}),pt={class:"h3 mb-2 mb-sm-0"},Ft={__name:"index",setup($){const h=J();return(o,n)=>{const d=w,c=U;return a(),f(K,null,{default:e(()=>[t(c,null,{default:e(()=>[t(d,{cols:"12",class:"mb-3"},{default:e(()=>{var l;return[s("h1",pt,"Welcome "+_(((l=b(h).user)==null?void 0:l.full_name)??"Admin"),1)]}),_:1})]),_:1}),t(vs),t(c,{class:"g-4 mb-4"},{default:e(()=>[t(ws),t(qs)]),_:1}),t(c,{class:"g-4"},{default:e(()=>[t(Ks),t(it),t(mt)]),_:1})]),_:1})}}};export{Ft as default};
